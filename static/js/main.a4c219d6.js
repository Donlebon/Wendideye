/*! For license information please see main.a4c219d6.js.LICENSE.txt */
!function(){var e={610:function(e,t,n){"use strict";n.r(t),n.d(t,{createBrowserHistory:function(){return k},createHashHistory:function(){return D},createLocation:function(){return v},createMemoryHistory:function(){return O},createPath:function(){return y},locationsAreEqual:function(){return m},parsePath:function(){return p}});var r=n(462);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(554);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=p(e)).state=t:(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var S="popstate",E="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),b||(0,c.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,u=void 0!==a&&a,s=o.getUserConfirmation,f=void 0===s?w:s,p=o.keyLength,m=void 0===p?6:p,k=e.basename?d(l(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=h(o,k)),v(o,r,n)}function I(){return Math.random().toString(36).substr(2,m)}var x=g();function N(e){(0,r.Z)(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(T(e.state))}function D(){O(T(_()))}var A=!1;function O(e){if(A)A=!1,N();else{x.confirmTransitionTo(e,"POP",f,(function(t){t?N({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,M(i))}(e)}))}}var P=T(_()),R=[P.key];function L(e){return k+y(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(S,C),i&&window.addEventListener(E,D)):0===F&&(window.removeEventListener(S,C),i&&window.removeEventListener(E,D))}var j=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",o=v(e,r,I(),V.location);x.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,s=o.state;if(n)if(t.pushState({key:a,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(o.key),R=l,N({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,I(),V.location);x.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,s=o.state;if(n)if(t.replaceState({key:a,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=o.key),N({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=x.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var T="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function x(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(x(window.location.href)+"#"+e)}function D(e){void 0===e&&(e={}),b||(0,c.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?w:i,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?d(l(e.basename)):"",f=I[u],p=f.encodePath,m=f.decodePath;function S(){var e=m(N());return s&&(e=h(e,s)),v(e)}var E=g();function _(e){(0,r.Z)(V,e),V.length=t.length,E.notifyListeners(V.location,V.action)}var k=!1,D=null;function A(){var e,t,n=N(),r=p(n);if(n!==r)C(r);else{var i=S(),a=V.location;if(!k&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(D===y(i))return;D=null,function(e){if(k)k=!1,_();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(y(t));-1===n&&(n=0);var r=L.lastIndexOf(y(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}(i)}}var O=N(),P=p(O);O!==P&&C(P);var R=S(),L=[y(R)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,A):0===F&&window.removeEventListener(T,A)}var j=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=x(window.location.href)),n+"#"+p(s+y(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=y(r),i=p(s+t);if(N()!==i){D=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(y(V.location)),a=L.slice(0,o+1);a.push(t),L=a,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=y(r),i=p(s+t);N()!==i&&(D=t,C(i));var o=L.indexOf(y(V.location));-1!==o&&(L[o]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=E.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function A(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=g();function f(e){(0,r.Z)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=A(u,0,o.length-1),p=o.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),m=y;function b(e){var t=A(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),y=s(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!y||!y[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case y:case s:return e;default:return t}}case i:return t}}}function E(e){return S(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||S(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===y},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=S},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,ke=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Ee(e.stateNode,e.type,t))}}function Ie(e){_e?ke?ke.push(e):ke=[e]:_e=e}function xe(){if(_e){var e=_e,t=ke;if(ke=_e=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ne(e,t,n)}finally{De=!1,(null!==_e||null!==ke)&&(Ce(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,a,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~i;0!==u?r=ft(u):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Et,_t,kt,Tt,It=!1,xt=[],Nt=null,Ct=null,Dt=null,At=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Dt&&Ut(Dt)&&(Dt=null),At.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Ct&&zt(Ct,e),null!==Dt&&zt(Dt,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Bt=w.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function Qt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=$t(e,t,n,r))&&Kr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=Se(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=on(dn),yn=on(F({},dn,{dataTransfer:0})),vn=on(F({},fn,{relatedTarget:0})),mn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),wn=on(F({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return kn}var In=F({},fn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(In),Nn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Gn(e){Ur(e,0)}function $n(e){if(Q(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Hn(t,Qn,e,Se(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},_r={},kr={};function Tr(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=Tr("animationend"),xr=Tr("animationiteration"),Nr=Tr("animationstart"),Cr=Tr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Fr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Fr(i,u,c),o=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=gi(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=o,i=Se(n),a=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":c="focus",s=vn;break;case"focusout":c="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Ir:case xr:case Nr:s=mn;break;case Cr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&(null!=(y=Oe(p,h))&&l.push(Hr(p,y,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(y,p+"leave",s,n,i)).target=f,u.relatedTarget=d,y=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,y=l),f=y,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Qr(d))p++;for(d=0,y=h;y;y=Qr(y))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Qr(l),h=Qr(h)}l=null}else l=null;null!==s&&Gr(a,u,s,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Yn;else if(Kn(u))if(Xn)v=ar;else{v=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=or);switch(v&&(v=v(e,r))?Hn(a,v,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?wi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":wr(a,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(m=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Jt=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Ur(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,o))&&a.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,o))&&a.push(Hr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,yi="__reactEvents$"+fi,vi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[di]||null}var Ei=[],_i=-1;function ki(e){return{current:e}}function Ti(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function Ii(e,t){_i++,Ei[_i]=e.current,e.current=t}var xi={},Ni=ki(xi),Ci=ki(!1),Di=xi;function Ai(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ci),Ti(Ni)}function Ri(e,t,n){if(Ni.current!==xi)throw Error(o(168));Ii(Ni,t),Ii(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Di=Ni.current,Ii(Ni,e),Ii(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ci),Ti(Ni),Ii(Ni,e)):Ti(Ci),Ii(Ci,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Qe(Je,qi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],Ki=0,Hi=null,Wi=0,Qi=[],Gi=0,$i=null,Yi=1,Xi="";function Zi(e,t){Bi[Ki++]=Wi,Bi[Ki++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Bi[--Ki],Bi[Ki]=null,Wi=Bi[--Ki],Bi[Ki]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!uo(e,t)){if(so(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&uo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function yo(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=ki(null),bo=null,wo=null,So=null;function Eo(){So=wo=bo=null}function _o(e){var t=go.current;Ti(go),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function No(e){null===xo?xo=[e]:xo.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==o){var f=i.baseState;for(a=0,l=c=s=null,u=o;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,y=u;switch(h=t,d=n,y.tag){case 1:if("function"===typeof(p=y.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=y.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ao=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,a|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ms|=a,e.lanes=a,e.memoizedState=f}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function Bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function Ko(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Oi(t)?Di:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Oi(t)?Di:Ni.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=i(t,n.props)).ref=Qo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Qo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Qo(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function y(i,o,u,s){for(var c=null,l=null,f=o,y=o=0,v=null;null!==f&&y<u.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=d(i,f,u[y],s);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===u.length)return n(i,f),io&&Zi(i,y),c;if(null===f){for(;y<u.length;y++)null!==(f=h(i,u[y],s))&&(o=a(f,o,y),null===l?c=f:l.sibling=f,l=f);return io&&Zi(i,y),c}for(f=r(i,f);y<u.length;y++)null!==(v=p(f,i,y,u[y],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?y:v.key),o=a(v,o,y),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),io&&Zi(i,y),c}function v(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,y=u,v=u=0,m=null,g=s.next();null!==y&&!g.done;v++,g=s.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=d(i,y,g.value,c);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),u=a(b,u,v),null===f?l=b:f.sibling=b,f=b,y=m}if(g.done)return n(i,y),io&&Zi(i,v),l;if(null===y){for(;!g.done;v++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return io&&Zi(i,v),l}for(y=r(i,y);!g.done;v++,g=s.next())null!==(g=p(y,i,v,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?v:g.key),u=a(g,u,v),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach((function(e){return t(i,e)})),io&&Zi(i,v),l}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Qo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Lc(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Rc(a.type,a.key,a.props,null,r.mode,s)).ref=Qo(r,o,a),s.return=r,r=s)}return u(r);case E:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,s)).return=r,r=o}return u(r);case O:return e(r,o,(l=a._init)(a._payload),s)}if(te(a))return y(r,o,a,s);if(L(a))return v(r,o,a,s);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,s)).return=r,r=o),u(r)):n(r,o)}}var Xo=Yo(!0),Zo=Yo(!1),Jo={},ea=ki(Jo),ta=ki(Jo),na=ki(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ii(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function ua(e){ta.current===e&&(Ti(ea),Ti(ta))}var sa=ki(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,ya=null,va=null,ma=null,ga=!1,ba=!1,wa=0,Sa=0;function Ea(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ma=va=null,t.updateQueue=null,ha.current=cu,e=n(r,i)}while(ba)}if(ha.current=au,t=null!==va&&null!==va.next,pa=0,ma=va=ya=null,ga=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==wa;return wa=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ya.memoizedState=ma=e:ma=ma.next=e,ma}function xa(){if(null===va){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?ya.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ya.memoizedState=ma=e:ma=ma.next=e}return ma}function Na(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,ya.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==a);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ya.lanes|=a,Ms|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Da(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(wu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Oa(e,t){var n=ya,r=xa(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,wu=!0),r=r.queue,Ka(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,ja(9,Ra.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(o(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Fa(e)}function La(e,t,n){return n((function(){Ma(t)&&Fa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fa(e){var t=Do(e,1);null!==t&&nc(t,e,1,-1)}function Ua(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,ya,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return xa().memoizedState}function za(e,t,n,r){var i=Ia();ya.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function qa(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}ya.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Ba(e,t){return za(8390656,8,e,t)}function Ka(e,t){return qa(2048,8,e,t)}function Ha(e,t){return qa(4,2,e,t)}function Wa(e,t){return qa(4,4,e,t)}function Qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4,4,Qa.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=yt(),ya.lanes|=n,Ms|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function eu(){return xa().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Co(e,t,n,r))){nc(n,e,r,ec()),ou(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,a)){var s=t.interleaved;return null===s?(i.next=i,No(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Co(e,t,i,r))&&(nc(n,e,r,i=ec()),ou(n,t,r))}}function ru(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function iu(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ou(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var au={readContext:Io,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},uu={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Ua,useDebugValue:$a,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Ja.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ya,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cs)throw Error(o(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(La.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Cs.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Ca,useRef:Va,useState:function(){return Ca(Na)},useDebugValue:$a,useDeferredValue:function(e){return Za(xa(),va.memoizedState,e)},useTransition:function(){return[Ca(Na)[0],xa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Oa,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Da,useRef:Va,useState:function(){return Da(Na)},useDebugValue:$a,useDeferredValue:function(e){var t=xa();return null===va?t.memoizedState=e:Za(t,va.memoizedState,e)},useTransition:function(){return[Da(Na)[0],xa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Oa,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function yu(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=w.ReactCurrentOwner,wu=!1;function Su(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Xo(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=ka(e,t,n,r,o,i),n=Ta(),null===e||wu?(io&&n&&eo(t),t.flags|=1,Su(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ku(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function ku(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return xu(e,t,n,r,i)}function Tu(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ps,Os),Os|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Os),Os|=r;return Su(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var o=Oi(n)?Di:Ni.current;return o=Ai(t,o),To(t,i),n=ka(e,t,n,r,o,i),r=Ta(),null===e||wu?(io&&r&&eo(t),t.flags|=1,Su(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)Bu(e,t),Ko(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Ai(t,c=Oi(n)?Di:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&Ho(t,a,r,c),Ao=!1;var h=t.memoizedState;a.state=h,Uo(t,r,a,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Ao?("function"===typeof l&&(zo(t,n,l,r),s=t.memoizedState),(u=Ao||Bo(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:mo(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Io(s):s=Ai(t,s=Oi(n)?Di:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Ho(t,a,r,s),Ao=!1,h=t.memoizedState,a.state=h,Uo(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Ao?("function"===typeof d&&(zo(t,n,d,r),p=t.memoizedState),(c=Ao||Bo(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,o,i)}function Cu(e,t,n,r,i,o){Iu(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ku(e,t,o);r=t.stateNode,bu.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,u,o)):Su(e,t,u,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function Au(e,t,n,r,i){return po(),yo(i),t.flags|=256,Su(e,t,n,r),t.child}var Ou,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,a=sa.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(sa,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,a);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(a=Error(o(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),nc(r,e,i,-1))}return yc(),ju(e,t,u,r=fu(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,a,n);if(u){u=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&yo(r),Xo(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function zu(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Su(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,o);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,oa(),Ti(Ci),Ti(Ni),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Wu(t),null;case 5:ua(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wu(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var s in ge(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&jr("scroll",e):null!=l&&b(e,a,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ti(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Rs&&(Rs=3):yc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return oa(),null===e&&qr(t.stateNode.containerInfo),Wu(t),null;case 10:return _o(t.type._context),Wu(t),null;case 19:if(Ti(sa),null===(a=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Hu(a,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ca(e))){for(t.flags|=128,Hu(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Wu(t),null}else 2*Xe()-a.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=sa.current,Ii(sa,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gu(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ci),Ti(Ni),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(Ti(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(sa),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){kc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&es(t,n,o)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[yi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&es(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){kc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(o(160));ds(a,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(v){kc(e,e.return,v)}try{ns(5,e,e.return)}catch(v){kc(e,e.return,v)}}break;case 1:ys(t,e),ms(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(ys(t,e),ms(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){kc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),be(s,u);var l=be(s,a);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){kc(e,e.return,v)}}break;case 6:if(ys(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){kc(e,e.return,v)}}break;case 3:if(ys(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(v){kc(e,e.return,v)}break;case 4:default:ys(t,e),ms(e);break;case 13:ys(t,e),ms(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ys(t,e),Yu=l):ys(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var y=d.stateNode;if("function"===typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){kc(r,n,v)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){Ss(h);continue}}null!==p?(p.return=d,Zu=p):Ss(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ye("display",u))}catch(v){kc(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){kc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,us(e),a);break;default:throw Error(o(161))}}catch(u){kc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$u;if(!a){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=a,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(a=Zu).child,22===a.tag&&null!==a.memoizedState?Es(i):null!==s?(s.return=a,Zu=s):Es(i);for(;null!==o;)Zu=o,bs(o,t,n),o=o.sibling;Zu=i,$u=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zu=o):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Yu||512&t.flags&&is(t)}catch(d){kc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function Ss(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Es(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){kc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){kc(t,i,s)}}var o=t.return;try{is(t)}catch(s){kc(t,o,s)}break;case 5:var a=t.return;try{is(t)}catch(s){kc(t,a,s)}}}catch(s){kc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var _s,ks=Math.ceil,Ts=w.ReactCurrentDispatcher,Is=w.ReactCurrentOwner,xs=w.ReactCurrentBatchConfig,Ns=0,Cs=null,Ds=null,As=0,Os=0,Ps=ki(0),Rs=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,zs=0,qs=1/0,Bs=null,Ks=!1,Hs=null,Ws=null,Qs=!1,Gs=null,$s=0,Ys=0,Xs=null,Zs=-1,Js=0;function ec(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==As?As&-As:null!==vo.transition?(0===Js&&(Js=yt()),Js):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(o(185));mt(e,n,r),0!==(2&Ns)&&e===Cs||(e===Cs&&(0===(2&Ns)&&(Fs|=n),4===Rs&&uc(e,As)),rc(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,ji&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),u=1<<a,s=i[a];-1===s?0!==(u&n)&&0===(u&r)||(i[a]=dt(u,t)):s<=t&&(e.expiredLanes|=u),o&=~u}}(e,t);var r=ht(e,e===Cs?As:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),ai((function(){0===(6&Ns)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,Js=0,0!==(6&Ns))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ns;Ns|=2;var a=pc();for(Cs===e&&As===t||(Bs=null,qs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}Eo(),Ts.current=a,Ns=i,null!==Ds?t=0:(Cs=null,As=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Vs,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vs,Bs),t);break}Sc(e,Vs,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-at(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vs,Bs),r);break}Sc(e,Vs,Bs);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vs,Vs=n,null!==t&&ac(t)),e}function ac(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ns))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vs,Bs),rc(e,Xe()),null}function cc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,ji&&qi())}}function lc(e){null!==Gs&&0===Gs.tag&&0===(6&Ns)&&Ec();var t=Ns;Ns|=1;var n=xs.transition,r=bt;try{if(xs.transition=null,bt=1,e)return e()}finally{bt=r,xs.transition=n,0===(6&(Ns=t))&&qi()}}function fc(){Os=Ps.current,Ti(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ti(Ci),Ti(Ni),fa();break;case 5:ua(r);break;case 4:oa();break;case 13:case 19:Ti(sa);break;case 10:_o(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cs=e,Ds=e=Pc(e.current,null),As=Os=t,Rs=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(Eo(),ha.current=au,ga){for(var r=ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(pa=0,ma=va=ya=null,ba=!1,wa=0,Is.current=null,null===n||null===n.return){Rs=1,Ls=t,Ds=null;break}e:{var a=e,u=n.return,s=n,c=t;if(t=As,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&vu(a,l,t),c=l;var y=(t=p).updateQueue;if(null===y){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}if(0===(1&t)){vu(a,l,t),yc();break e}c=Error(o(426))}else if(io&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),yo(lu(c,s));break e}}a=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[a]:js.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,pu(0,c,t));break e;case 1:s=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ws||!Ws.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,yu(a,s,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=Ts.current;return Ts.current=au,null===e?au:e}function yc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Cs||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Cs,As)}function vc(e,t){var n=Ns;Ns|=2;var r=pc();for(Cs===e&&As===t||(Bs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(Eo(),Ns=n,Ts.current=r,null!==Ds)throw Error(o(261));return Cs=null,As=0,Rs}function mc(){for(;null!==Ds;)bc(Ds)}function gc(){for(;null!==Ds&&!$e();)bc(Ds)}function bc(e){var t=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Ds=t,Is.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ds=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Rs=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Rs&&(Rs=5)}function Sc(e,t,n){var r=bt,i=xs.transition;try{xs.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Gs);if(0!==(6&Ns))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cs&&(Ds=Cs=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Cc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xs.transition,xs.transition=null;var u=bt;bt=1;var s=Ns;Ns|=4,Is.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==a||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===a&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var y=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var v=y.memoizedProps,m=y.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){kc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}y=ts,ts=!1}(e,n),vs(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ns=s,bt=u,xs.transition=a}else e.current=n;if(Qs&&(Qs=!1,Gs=e,$s=i),0===(a=e.pendingLanes)&&(Ws=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&Ec(),0!==(1&(a=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,qi()}(e,t,n,r)}finally{xs.transition=i,bt=r}return null}function Ec(){if(null!==Gs){var e=wt($s),t=xs.transition,n=bt;try{if(xs.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,$s=0,0!==(6&Ns))throw Error(o(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var a=Zu,u=a.child;if(0!==(16&Zu.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var y=a.alternate;if(null!==y){var v=y.child;if(null!==v){y.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Zu=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(a=Zu).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Zu=g;break e}Zu=a.return}}var b=e.current;for(Zu=b;null!==Zu;){var w=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Zu=w;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(E){kc(s,s.return,E)}if(s===u){Zu=null;break e}var S=s.sibling;if(null!==S){S.return=s.return,Zu=S;break e}Zu=s.return}}if(Ns=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,xs.transition=t}}return!1}function _c(e,t,n){e=Lo(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Lo(t,e=yu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(As&n)===n&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Xe()-zs?hc(e,0):Us|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Do(e,t))&&(mt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return Qe(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Dc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case k:u=8,i|=8;break;case T:return(e=Ac(12,n,t,2|i)).elementType=T,e.lanes=a,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=a,e;case D:return(e=Ac(19,n,t,i)).elementType=D,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case x:u=9;break e;case N:u=11;break e;case A:u=14;break e;case O:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return xi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,u,s){return(e=Vc(n,r,!0,e,0,o,0,u,s)).context=qc(null),n=e.current,(o=Ro(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nc(e,i,a,o),Mo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(sa,1&sa.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Tu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);To(t,n),i=ka(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Cu(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Su(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=mo(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),Uo(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Au(e,t,r,n,i=lu(Error(o(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ku(e,t,n);break e}Su(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==a&&ni(r,a)&&(t.flags|=32),Iu(e,t),Su(e,t,u,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fu(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Su(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Su(e,t,t.pendingProps,n),t.child;case 8:case 12:return Su(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Ii(go,r._currentValue),r._currentValue=u,null!==a)if(ur(a.value,u)){if(a.children===i.children&&!Ci.current){t=Ku(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ro(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ko(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}Su(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Io(i)),t.flags|=1,Su(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),_u(e,t,r,i=mo(r.type,i),n);case 15:return ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Bu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,To(t,n),Ko(t,r,i),Wo(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Tu(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var u=i;i=function(){var e=Hc(a);u.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=Do(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Qc(e,1)}},Et=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Do(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},kt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));Q(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,Si,Ie,xe,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},25:function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var i=n(931),o=r(n(791)),a=n(610),u=r(n(7)),s=r(n(501)),c=r(n(90));function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function h(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createBrowserHistory(t.props),t}return f(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component);d.propTypes={basename:u.string,children:u.node,forceRefresh:u.bool,getUserConfirmation:u.func,keyLength:u.number},d.prototype.componentDidMount=function(){s(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")};var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createHashHistory(t.props),t}return f(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component);p.propTypes={basename:u.string,children:u.node,getUserConfirmation:u.func,hashType:u.oneOf(["hashbang","noslash","slash"])},p.prototype.componentDidMount=function(){s(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")};var y=function(e,t){return"function"===typeof e?e(t):e},v=function(e,t){return"string"===typeof e?a.createLocation(e,null,null,t):e},m=function(e){return e},g=o.forwardRef;"undefined"===typeof g&&(g=m);var b=g((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=h(e,["innerRef","navigate","onClick"]),u=a.target,s=l({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=m!==g&&t||n,o.createElement("a",s)}));b.displayName="LinkAnchor";var w=g((function(e,t){var n=e.component,r=void 0===n?b:n,a=e.replace,u=e.to,s=e.innerRef,f=h(e,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||c(!1,"You should not use <Link> outside a <Router>");var n=e.history,i=v(y(u,e.location),e.location),h=i?n.createHref(i):"",d=l({},f,{href:h,navigate:function(){var t=y(u,e.location);(a?n.replace:n.push)(t)}});return m!==g?d.ref=t||s:d.innerRef=s,o.createElement(r,d)}))})),S=u.oneOfType([u.string,u.object,u.func]),E=u.oneOfType([u.string,u.func,u.shape({current:u.any})]);w.displayName="Link",w.propTypes={innerRef:E,onClick:u.func,replace:u.bool,target:u.string,to:S.isRequired};var _=function(e){return e},k=o.forwardRef;"undefined"===typeof k&&(k=_);var T=k((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,f=e.className,d=e.exact,p=e.isActive,m=e.location,g=e.strict,b=e.style,S=e.to,E=e.innerRef,T=h(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||c(!1,"You should not use <NavLink> outside a <Router>");var n=m||e.location,a=v(y(S,n),n),h=a.pathname,I=h&&h.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=I?i.matchPath(n.pathname,{path:I,exact:d,strict:g}):null,N=!!(p?p(x,n):x),C=N?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,u):f,D=N?l({},b,{},s):b,A=l({"aria-current":N&&r||null,className:C,style:D,to:a},T);return _!==k?A.ref=t||E:A.innerRef=E,o.createElement(w,A)}))}));T.displayName="NavLink";var I=u.oneOf(["page","step","location","date","time","true"]);T.propTypes=l({},w.propTypes,{"aria-current":I,activeClassName:u.string,activeStyle:u.object,className:u.string,exact:u.bool,isActive:u.func,location:u.object,strict:u.bool,style:u.object}),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})),t.BrowserRouter=d,t.HashRouter=p,t.Link=w,t.NavLink=T},931:function(e,t,n){"use strict";n.r(t),n.d(t,{MemoryRouter:function(){return _},Prompt:function(){return T},Redirect:function(){return C},Route:function(){return P},Router:function(){return E},StaticRouter:function(){return j},Switch:function(){return V},__RouterContext:function(){return S},generatePath:function(){return N},matchPath:function(){return O},useHistory:function(){return B},useLocation:function(){return K},useParams:function(){return H},useRouteMatch:function(){return W},withRouter:function(){return z}});var r=n(721),i=n(791),o=n(610),a=n(7),u=n.n(a),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}(0,r.Z)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);f.childContextTypes=((n={})[a]=u().object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.Z)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return h.contextTypes=((o={})[a]=u().object,o),{Provider:f,Consumer:h}},h=f,d=n(554),p=n(462),y=n(239),v=n.n(y),m=(n(228),n(366)),g=n(110),b=n.n(g),w=function(e){var t=h();return t.displayName=e,t},S=w("Router"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,r.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.createElement(S.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(i.Component);var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,o.createMemoryHistory)(t.props),t}return(0,r.Z)(t,e),t.prototype.render=function(){return i.createElement(E,{history:this.history,children:this.props.children})},t}(i.Component);var k=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);function T(e){var t=e.message,n=e.when,r=void 0===n||n;return i.createElement(S.Consumer,null,(function(e){if(e||(0,d.Z)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.createElement(k,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var I={},x=0;function N(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(I[e])return I[e];var t=v().compile(e);return x<1e4&&(I[e]=t,x++),t}(e)(t,{pretty:!0})}function C(e){var t=e.computedMatch,n=e.to,r=e.push,a=void 0!==r&&r;return i.createElement(S.Consumer,null,(function(e){e||(0,d.Z)(!1);var r=e.history,u=e.staticContext,s=a?r.push:r.replace,c=(0,o.createLocation)(t?"string"===typeof n?N(n,t.params):(0,p.Z)({},n,{pathname:N(n.pathname,t.params)}):n);return u?(s(c),null):i.createElement(k,{onMount:function(){s(c)},onUpdate:function(e,t){var n=(0,o.createLocation)(t.to);(0,o.locationsAreEqual)(n,(0,p.Z)({},c,{key:n.key}))||s(c)},to:n})}))}var D={},A=0;function O(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=D[n]||(D[n]={});if(r[e])return r[e];var i=[],o={regexp:v()(e,i,t),keys:i};return A<1e4&&(r[e]=o,A++),o}(n,{end:o,strict:u,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var P=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(S.Consumer,null,(function(t){t||(0,d.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?O(n.pathname,e.props):t.match,o=(0,p.Z)({},t,{location:n,match:r}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),i.createElement(S.Provider,{value:o},o.match?u?"function"===typeof u?u(o):u:s?i.createElement(s,o):c?c(o):null:"function"===typeof u?u(o):null)}))},t}(i.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function L(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:(0,p.Z)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:(0,o.createPath)(e)}function F(e){return function(){(0,d.Z)(!1)}}function U(){}var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return U},t.handleBlock=function(){return U},t}(0,r.Z)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,a=n.context,u=void 0===a?{}:a;u.action=t,u.location=function(e,t){return e?(0,p.Z)({},t,{pathname:R(e)+t.pathname}):t}(i,(0,o.createLocation)(e)),u.url=M(u.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,a=void 0===r?{}:r,u=e.location,s=void 0===u?"/":u,c=(0,m.Z)(e,["basename","context","location"]),l={createHref:function(e){return R(n+M(e))},action:"POP",location:L(n,(0,o.createLocation)(s)),push:this.handlePush,replace:this.handleReplace,go:F(),goBack:F(),goForward:F(),listen:this.handleListen,block:this.handleBlock};return i.createElement(E,(0,p.Z)({},c,{history:l,staticContext:a}))},t}(i.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(S.Consumer,null,(function(t){t||(0,d.Z)(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?O(o.pathname,(0,p.Z)({},e.props,{path:a})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);function z(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,m.Z)(t,["wrappedComponentRef"]);return i.createElement(S.Consumer,null,(function(t){return t||(0,d.Z)(!1),i.createElement(e,(0,p.Z)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,b()(n,e)}var q=i.useContext;function B(){return q(S).history}function K(){return q(S).location}function H(){var e=q(S).match;return e?e.params:{}}function W(e){return e?O(K().pathname,e):q(S).match}},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(a,d),a=d+f.length,h)u+=h[1];else{var p=e[a],y=n[2],v=n[3],m=n[4],g=n[5],b=n[6],w=n[7];u&&(r.push(u),u="");var S=null!=y&&null!=p&&p!==y,E="+"===b||"*"===b,_="?"===b||"*"===b,k=n[2]||l,T=m||g;r.push({name:v||o++,prefix:y||"",delimiter:k,optional:_,repeat:E,partial:S,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+s(k)+"]+?"})}}return a<e.length&&(u+=e.substr(a)),u&&r.push(u),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",u=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)a+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),y=a.slice(-p.length)===p;return i||(a=(y?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case y:case s:return e;default:return t}}case i:return t}}}function E(e){return S(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,y(w,m.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:u,props:o,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+N(s,0):o,S(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var l=o+N(u=e[c],c);s+=C(u,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=o+N(u,c++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>o(s,n))c<i&&0>o(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,y=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function S(e){if(v=!1,w(e),!y)if(null!==r(c))y=!0,P(E);else{var t=r(l);null!==t&&R(S,t.startTime-e)}}function E(e,n){y=!1,v&&(v=!1,g(I),I=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var u=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(S,f.startTime-n),s=!1}return s}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,T=null,I=-1,x=5,N=-1;function C(){return!(t.unstable_now()-N<x)}function D(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?_():(k=!1,T=null)}}else k=!1}if("function"===typeof b)_=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=D,_=function(){O.postMessage(null)}}else _=function(){m(D,0)};function P(e){T=e,k||(k=!0,_())}function R(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(g(I),I=-1):v=!0,R(S,o-a))):(e.sortIndex=u,n(c,e),y||p||(y=!0,P(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},90:function(e){"use strict";var t="Invariant failed";e.exports=function(e,n){if(!e)throw new Error(t)}},501:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},721:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},554:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Wendideye/",function(){"use strict";var e=n(791),t=n(250),r=n(931),i=n(721),o=n(610),a=n(462),u=n(366),s=n(554),c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=(0,o.createBrowserHistory)(e.props),e}return(0,i.Z)(n,t),n.prototype.render=function(){return e.createElement(r.Router,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var l=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?(0,o.createLocation)(e,null,null,t):e},h=function(e){return e},d=e.forwardRef;"undefined"===typeof d&&(d=h);var p=d((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,s=(0,u.Z)(t,["innerRef","navigate","onClick"]),c=s.target,l=(0,a.Z)({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=h!==d&&n||r,e.createElement("a",l)}));var y=d((function(t,n){var i=t.component,o=void 0===i?p:i,c=t.replace,y=t.to,v=t.innerRef,m=(0,u.Z)(t,["component","replace","to","innerRef"]);return e.createElement(r.__RouterContext.Consumer,null,(function(t){t||(0,s.Z)(!1);var r=t.history,i=f(l(y,t.location),t.location),u=i?r.createHref(i):"",p=(0,a.Z)({},m,{href:u,navigate:function(){var e=l(y,t.location);(c?r.replace:r.push)(e)}});return h!==d?p.ref=n||v:p.innerRef=v,e.createElement(o,p)}))})),v=function(e){return e},m=e.forwardRef;"undefined"===typeof m&&(m=v);m((function(t,n){var i=t["aria-current"],o=void 0===i?"page":i,c=t.activeClassName,h=void 0===c?"active":c,d=t.activeStyle,p=t.className,g=t.exact,b=t.isActive,w=t.location,S=t.strict,E=t.style,_=t.to,k=t.innerRef,T=(0,u.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return e.createElement(r.__RouterContext.Consumer,null,(function(t){t||(0,s.Z)(!1);var i=w||t.location,u=f(l(_,i),i),c=u.pathname,I=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=I?(0,r.matchPath)(i.pathname,{path:I,exact:g,strict:S}):null,N=!!(b?b(x,i):x),C=N?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,h):p,D=N?(0,a.Z)({},E,{},d):E,A=(0,a.Z)({"aria-current":N&&o||null,className:C,style:D,to:u},T);return v!==m?A.ref=n||k:A.innerRef=k,e.createElement(y,A)}))}));function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=n(25),S=n(184);function E(){var t=b((0,e.useState)(""),2),n=t[0],i=t[1],o=(0,r.useHistory)();return(0,S.jsxs)("div",{className:"nav-container",children:[(0,S.jsx)(w.Link,{to:"/",children:(0,S.jsx)("h1",{className:"title",children:"Wendideye"})}),(0,S.jsx)("form",{onSubmit:function(e){e.preventDefault(),o.push("/search?q=".concat(n))},className:"search-container",children:(0,S.jsx)("input",{onChange:function(e){return i(e.target.value)},className:"search",type:"text",placeholder:"Search for an Item"})}),(0,S.jsx)(w.Link,{to:"/create",children:(0,S.jsx)("button",{className:"add",children:"Add"})})]})}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},I(e,t)};function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)};function C(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(qp){o(qp)}}function u(e){try{s(r.throw(e))}catch(qp){o(qp)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(qp){o=[6,qp],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function A(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function P(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var R=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(R(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function M(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=M(e[n],t[n]));return e}var F=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function U(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function j(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qp){return!1}}var V=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,z.prototype.create),o}return x(t,e),t}(Error),z=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?q(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new V(i,u,r);return s},e}();function q(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var B=/\{\$([^}]+)}/g;function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function H(e,t){var n=new W(e,t);return n.subscribe.bind(n)}var W=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(qp){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(qp){"undefined"!==typeof console&&console.error&&console.error(qp)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Q(){}function G(e){return e&&e._delegate?e._delegate:e}var $=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Y="[DEFAULT]",X=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=Y);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new F;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(qp){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=N({identifier:Y,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(qp){if(r)return null;throw qp}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Y})}catch(qp){}try{for(var r=A(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=O(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(qp){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Y),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return C(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(P(P([],O(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),O(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Y),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Y:r,o=e.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var c=A(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=O(l.value,2),h=f[0],d=f[1];u===this.normalizeInstanceIdentifier(h)&&d.resolve(s)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(s,u),s},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=A(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(u){}}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Y?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Ip){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Y:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var Z,J=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new X(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function ee(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var te,ne=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(te||(te={}));var re,ie={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},oe=te.INFO,ae=((Z={})[te.DEBUG]="log",Z[te.VERBOSE]="log",Z[te.INFO]="info",Z[te.WARN]="warn",Z[te.ERROR]="error",Z),ue=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ae[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,ee(["["+i+"]  "+e.name+":"],n))}},se=function(){function e(e){this.name=e,this._logLevel=oe,this._logHandler=ue,this._userLogHandler=null,ne.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?ie[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ee([this,te.DEBUG],e)),this._logHandler.apply(this,ee([this,te.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ee([this,te.VERBOSE],e)),this._logHandler.apply(this,ee([this,te.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ee([this,te.INFO],e)),this._logHandler.apply(this,ee([this,te.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ee([this,te.WARN],e)),this._logHandler.apply(this,ee([this,te.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ee([this,te.ERROR],e)),this._logHandler.apply(this,ee([this,te.ERROR],e))},e}();function ce(e){ne.forEach((function(t){t.setLogLevel(e)}))}var le,fe=((re={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",re["bad-app-name"]="Illegal App name: '{$appName}",re["duplicate-app"]="Firebase App named '{$appName}' already exists",re["app-deleted"]="Firebase App named '{$appName}' already deleted",re["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",re["invalid-log-argument"]="First argument to `onLog` must be null or a function.",re),he=new z("app","Firebase",fe),de="@firebase/app",pe="[DEFAULT]",ye=((le={})[de]="fire-core",le["@firebase/analytics"]="fire-analytics",le["@firebase/app-check"]="fire-app-check",le["@firebase/auth"]="fire-auth",le["@firebase/database"]="fire-rtdb",le["@firebase/functions"]="fire-fn",le["@firebase/installations"]="fire-iid",le["@firebase/messaging"]="fire-fcm",le["@firebase/performance"]="fire-perf",le["@firebase/remote-config"]="fire-rc",le["@firebase/storage"]="fire-gcs",le["@firebase/firestore"]="fire-fst",le["fire-js"]="fire-js",le["firebase-wrapper"]="fire-js-all",le),ve=new se("@firebase/app"),me=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=M(void 0,e),this.container=new J(t.name),this._addComponent(new $("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=pe),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=pe),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(qp){ve.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,qp)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw he.create("app-deleted",{appName:this.name_})},e}();me.prototype.name&&me.prototype.options||me.prototype.delete||console.log("dc");function ge(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=pe);var a=o.name;if("string"!==typeof a||!a)throw he.create("bad-app-name",{appName:String(a)});if(K(t,a))throw he.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ye[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ve.warn(s.join(" "))}o(new $(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:ce,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw he.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=ie[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:te[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=ne;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!K(t,e=e||pe))throw he.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ve.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw he.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&M(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var be=function e(){var t=ge(me);return t.INTERNAL=N(N({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){M(t,e)},createSubscribe:H,ErrorFactory:z,deepExtend:M}),t}(),we=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ee=be.initializeApp;be.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j()&&ve.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ee.apply(void 0,e)};var _e=be;!function(e,t){e.INTERNAL.registerComponent(new $("platform-logger",(function(e){return new we(e)}),"PRIVATE")),e.registerVersion(de,"0.6.21",t),e.registerVersion("fire-js","")}(_e);var ke=_e;ke.registerVersion("firebase","8.5.0","app");var Te=function(e,t){return Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Te(e,t)};function Ie(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,Ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ce=Ce||{},De=Ne||self;function Ae(){}function Oe(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Re="closure_uid_"+(1e9*Math.random()>>>0),Le=0;function Me(e,t,n){return e.call.apply(e.bind,arguments)}function Fe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ue(e,t,n){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Me:Fe).apply(null,arguments)}function je(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ve(){return Date.now()}function ze(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function qe(){this.j=this.j,this.i=this.i}qe.prototype.j=!1,qe.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,Re)&&e[Re]||(e[Re]=++Le)})(this)},qe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Be=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ke=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function He(e){return Array.prototype.concat.apply([],arguments)}function We(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qe(e){return/^[\s\xa0]*$/.test(e)}var Ge,$e=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ye(e,t){return-1!=e.indexOf(t)}function Xe(e,t){return e<t?-1:e>t?1:0}e:{var Ze=De.navigator;if(Ze){var Je=Ze.userAgent;if(Je){Ge=Je;break e}}Ge=""}function et(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function tt(e){var t={};for(var n in e)t[n]=e[n];return t}var nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<nt.length;o++)n=nt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function it(e){return it[" "](e),e}it[" "]=Ae;var ot,at=Ye(Ge,"Opera"),ut=Ye(Ge,"Trident")||Ye(Ge,"MSIE"),st=Ye(Ge,"Edge"),ct=st||ut,lt=Ye(Ge,"Gecko")&&!(Ye(Ge.toLowerCase(),"webkit")&&!Ye(Ge,"Edge"))&&!(Ye(Ge,"Trident")||Ye(Ge,"MSIE"))&&!Ye(Ge,"Edge"),ft=Ye(Ge.toLowerCase(),"webkit")&&!Ye(Ge,"Edge");function ht(){var e=De.document;return e?e.documentMode:void 0}e:{var dt="",pt=function(){var e=Ge;return lt?/rv:([^\);]+)(\)|;)/.exec(e):st?/Edge\/([\d\.]+)/.exec(e):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ft?/WebKit\/(\S+)/.exec(e):at?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pt&&(dt=pt?pt[1]:""),ut){var yt=ht();if(null!=yt&&yt>parseFloat(dt)){ot=String(yt);break e}}ot=dt}var vt,mt={};function gt(e){return function(e,t){var n=mt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=$e(String(ot)).split("."),r=$e(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;t=Xe(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||Xe(0==a[2].length,0==u[2].length)||Xe(a[2],u[2]),a=a[3],u=u[3]}while(0==t)}return 0<=t}))}if(De.document&&ut){var bt=ht();vt=bt||(parseInt(ot,10)||void 0)}else vt=void 0;var wt=vt,St=!ut||9<=Number(wt),Et=ut&&!gt("9"),_t=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{De.addEventListener("test",Ae,t),De.removeEventListener("test",Ae,t)}catch(n){}return e}();function kt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Tt(e,t){if(kt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(lt){e:{try{it(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:It[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}kt.prototype.b=function(){this.defaultPrevented=!0},ze(Tt,kt);var It={2:"touch",3:"pen",4:"mouse"};Tt.prototype.b=function(){Tt.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Et)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var xt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Ct(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Nt,this.Y=this.Z=!1}function Dt(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function At(e){this.src=e,this.a={},this.b=0}function Ot(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Be(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Dt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Pt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}At.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Pt(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Ct(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Rt="closure_lm_"+(1e6*Math.random()|0),Lt={};function Mt(e,t,n,r,i){if(r&&r.once)return Ut(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Mt(e,t[o],n,r,i);return null}return n=Wt(n),e&&e[xt]?e.va(t,n,Pe(r)?!!r.capture:!!r,i):Ft(e,t,n,!1,r,i)}function Ft(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Pe(i)?!!i.capture:!!i;if(a&&!St)return null;var u=Kt(e);if(u||(e[Rt]=u=new At(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Bt,t=St?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ut(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ut(e,t[o],n,r,i);return null}return n=Wt(n),e&&e[xt]?e.wa(t,n,Pe(r)?!!r.capture:!!r,i):Ft(e,t,n,!0,r,i)}function jt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)jt(e,t[o],n,r,i);else r=Pe(r)?!!r.capture:!!r,n=Wt(n),e&&e[xt]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=Pt(o=e.a[t],n,r,i))&&(Dt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Kt(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Pt(t,n,r,i)),(n=-1<e?t[e]:null)&&Vt(n))}function Vt(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[xt])Ot(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kt(t))?(Ot(n,e),0==n.b&&(n.src=null,t[Rt]=null)):Dt(e)}}}function zt(e){return e in Lt?Lt[e]:Lt[e]="on"+e}function qt(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Vt(e),n.call(r,t)}function Bt(e,t){if(e.Y)return!0;if(!St){if(!t)e:{t=["window","event"];for(var n=De,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return qt(e,t=new Tt(t,this))}return qt(e,new Tt(t,this))}function Kt(e){return(e=e[Rt])instanceof At?e:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(e){return"function"===typeof e?e:(e[Ht]||(e[Ht]=function(t){return e.handleEvent(t)}),e[Ht])}function Qt(){qe.call(this),this.c=new At(this),this.J=this,this.C=null}function Gt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new kt(t,e);else if(t instanceof kt)t.target=t.target||e;else{var i=t;rt(t=new kt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=$t(a,r,!0,t)&&i}if(i=$t(a=t.a=e,r,!0,t)&&i,i=$t(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=$t(a=t.a=n[o],r,!1,t)&&i}function $t(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var u=a.listener,s=a.ca||a.src;a.Z&&Ot(e.c,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ze(Qt,qe),Qt.prototype[xt]=!0,(xe=Qt.prototype).addEventListener=function(e,t,n,r){Mt(this,e,t,n,r)},xe.removeEventListener=function(e,t,n,r){jt(this,e,t,n,r)},xe.G=function(){if(Qt.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Dt(n[r]);delete t.a[e],t.b--}}this.C=null},xe.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},xe.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Yt=De.JSON.stringify;function Xt(){this.b=this.a=null}var Zt,Jt=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new tn}),(function(e){e.reset()}));function en(){var e=an,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function tn(){this.next=this.b=this.a=null}function nn(e){De.setTimeout((function(){throw e}),0)}function rn(e,t){Zt||function(){var e=De.Promise.resolve(void 0);Zt=function(){e.then(un)}}(),on||(Zt(),on=!0),an.add(e,t)}Xt.prototype.add=function(e,t){var n=Jt.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},tn.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},tn.prototype.reset=function(){this.next=this.b=this.a=null};var on=!1,an=new Xt;function un(){for(var e;e=en();){try{e.a.call(e.b)}catch(n){nn(n)}var t=Jt;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}on=!1}function sn(e,t){Qt.call(this),this.b=e||1,this.a=t||De,this.f=Ue(this.Za,this),this.g=Ve()}function cn(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ln(e,t,n){if("function"===typeof e)n&&(e=Ue(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ue(e.handleEvent,e)}return 2147483647<Number(t)?-1:De.setTimeout(e,t||0)}function fn(e){e.a=ln((function(){e.a=null,e.c&&(e.c=!1,fn(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}ze(sn,Qt),(xe=sn.prototype).aa=!1,xe.M=null,xe.Za=function(){if(this.aa){var e=Ve()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Gt(this,"tick"),this.aa&&(cn(this),this.start()))}},xe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ve())},xe.G=function(){sn.X.G.call(this),cn(this),delete this.a};var hn=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Te(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:fn(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(qe);function dn(e){qe.call(this),this.b=e,this.a={}}ze(dn,qe);var pn=[];function yn(e,t,n,r){Array.isArray(n)||(n&&(pn[0]=n.toString()),n=pn);for(var i=0;i<n.length;i++){var o=Mt(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function vn(e){et(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Vt(e)}),e),e.a={}}function mn(){this.a=!0}function gn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Yt(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}dn.prototype.G=function(){dn.X.G.call(this),vn(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mn.prototype.info=function(){};var bn={},wn=null;function Sn(){return wn=wn||new Qt}function En(e){kt.call(this,bn.Fa,e)}function _n(e){var t=Sn();Gt(t,new En(t,e))}function kn(e,t){kt.call(this,bn.STAT_EVENT,e),this.stat=t}function Tn(e){var t=Sn();Gt(t,new kn(t,e))}function In(e){kt.call(this,bn.Ga,e)}function xn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return De.setTimeout((function(){e()}),t)}bn.Fa="serverreachability",ze(En,kt),bn.STAT_EVENT="statevent",ze(kn,kt),bn.Ga="timingevent",ze(In,kt);var Nn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Cn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Dn(){}function An(e){var t;return(t=e.a)||(t=e.a={}),t}function On(){}Dn.prototype.a=null;var Pn,Rn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ln(){kt.call(this,"d")}function Mn(){kt.call(this,"c")}function Fn(){}function Un(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new dn(this),this.P=jn,e=ct?125:void 0,this.R=new sn(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ze(Ln,kt),ze(Mn,kt),ze(Fn,Dn),Pn=new Fn;var jn=45e3,Vn={},zn={};function qn(e,t,n){e.H=1,e.i=lr(ir(t)),e.j=n,e.I=!0,Bn(e,null)}function Bn(e,t){e.u=Ve(),Wn(e),e.l=ir(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),_r(n.b,"t",r),e.D=0,e.a=mi(e.g,e.g.C?t:null),0<e.O&&(e.F=new hn(Ue(e.Ca,e,e.a),e.O)),yn(e.J,e.a,"readystatechange",e.Xa),t=e.B?tt(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),_n(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Kn(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Hn(e,n);if(i==zn){4==t&&(e.h=4,Tn(14),r=!1),gn(e.c,e.f,null,"[Incomplete Response]");break}if(i==Vn){e.h=4,Tn(15),gn(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}gn(e.c,e.f,i,null),Xn(e,i)}4==t&&0==n.length&&(e.h=1,Tn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ci(t),t.F=!0,Tn(11))):(gn(e.c,e.f,n,"[Invalid Chunked Response]"),Yn(e),$n(e))}function Hn(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?zn:(n=Number(t.substring(n,r)),isNaN(n)?Vn:(r+=1)+n>t.length?zn:(t=t.substr(r,n),e.D=r+n,t))}function Wn(e){e.T=Ve()+e.P,Qn(e,e.P)}function Qn(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=xn(Ue(e.Va,e),t)}function Gn(e){e.o&&(De.clearTimeout(e.o),e.o=null)}function $n(e){0==e.g.v||e.A||hi(e.g,e)}function Yn(e){Gn(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,cn(e.R),vn(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Xn(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Dr(n.b,e)))if(n.I=e.N,!e.C&&Dr(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(rp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;fi(n),ei(n)}si(n),Tn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=xn(Ue(n.Sa,n),6e3));if(1>=Cr(n.b)&&n.ea){try{n.ea()}catch(rp){}n.ea=void 0}}else pi(n,11)}else if((e.C||n.a==e)&&fi(n),!Qe(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"===typeof u&&0<u){var s=1.5*u;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=s.b;!f.a&&(Ye(l,"spdy")||Ye(l,"quic")||Ye(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Ar(f,f.b),f.b=null))}if(s.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.na=h,cr(s.B,s.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ve()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((s=n).la=vi(s,s.C?s.ga:null,s.fa),d.C){Or(s.b,d);var p=d,y=s.D;y&&p.setTimeout(y),p.o&&(Gn(p),Wn(p)),s.a=d}else ui(s);0<n.g.length&&ri(n)}else"stop"!=i[0]&&"close"!=i[0]||pi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?pi(n,7):Jr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);_n(4)}catch(rp){}}function Zn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Oe(e)||"string"===typeof e)Ke(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Oe(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(Oe(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Jn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Jn)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function er(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];tr(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)tr(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function tr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(xe=Un.prototype).setTimeout=function(e){this.P=e},xe.Xa=function(e){e=e.target;var t=this.F;t&&3==$r(e)?t.f():this.Ca(e)},xe.Ca=function(e){try{if(e==this.a)e:{var t=$r(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!ct&&!this.a.$())){this.A||4!=t||7==n||_n(8==n||0>=r?3:2),Gn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,u=this.a;if((a=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qe(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,Tn(12),Yn(this),$n(this);break e}gn(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xn(this,s)}this.I?(Kn(this,t,o),ct&&this.b&&3==t&&(yn(this.J,this.R,"tick",this.Wa),this.R.start())):(gn(this.c,this.f,o,null),Xn(this,o)),4==t&&Yn(this),this.b&&!this.A&&(4==t?hi(this.g,this):(this.b=!1,Wn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Tn(12)):(this.h=0,Tn(13)),Yn(this),$n(this)}}}catch(c){}},xe.Wa=function(){if(this.a){var e=$r(this.a),t=this.a.$();this.D<t.length&&(Gn(this),Kn(this,e,t),this.b&&4!=e&&Wn(this))}},xe.cancel=function(){this.A=!0,Yn(this)},xe.Va=function(){this.o=null;var e=Ve();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(_n(3),Tn(17)),Yn(this),this.h=2,$n(this)):Qn(this,this.T-e)},(xe=Jn.prototype).K=function(){er(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},xe.L=function(){return er(this),this.a.concat()},xe.get=function(e,t){return tr(this.b,e)?this.b[e]:t},xe.set=function(e,t){tr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},xe.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var nr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rr(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof rr){this.a=void 0!==t?t:e.a,or(this,e.f),this.j=e.j,ar(this,e.c),ur(this,e.h),this.g=e.g,t=e.b;var n=new br;n.c=t.c,t.a&&(n.a=new Jn(t.a),n.b=t.b),sr(this,n),this.i=e.i}else e&&(n=String(e).match(nr))?(this.a=!!t,or(this,n[1]||"",!0),this.j=fr(n[2]||""),ar(this,n[3]||"",!0),ur(this,n[4]),this.g=fr(n[5]||"",!0),sr(this,n[6]||"",!0),this.i=fr(n[7]||"")):(this.a=!!t,this.b=new br(null,this.a))}function ir(e){return new rr(e)}function or(e,t,n){e.f=n?fr(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function ar(e,t,n){e.c=n?fr(t,!0):t}function ur(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function sr(e,t,n){t instanceof br?(e.b=t,function(e,t){t&&!e.f&&(wr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sr(this,t),_r(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=hr(t,mr)),e.b=new br(t,e.a))}function cr(e,t,n){e.b.set(t,n)}function lr(e){return cr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ve()).toString(36)),e}function fr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rr.prototype.toString=function(){var e=[],t=this.f;t&&e.push(hr(t,pr,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(hr(t,pr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(hr(n,"/"==n.charAt(0)?vr:yr,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",hr(n,gr)),e.join("")};var pr=/[#\/\?@]/g,yr=/[#\?:]/g,vr=/[#\?]/g,mr=/[#\?@]/g,gr=/#/g;function br(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function wr(e){e.a||(e.a=new Jn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sr(e,t){wr(e),t=kr(e,t),tr(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,tr((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&er(e)))}function Er(e,t){return wr(e),t=kr(e,t),tr(e.a.b,t)}function _r(e,t,n){Sr(e,t),0<n.length&&(e.c=null,e.a.set(kr(e,t),We(n)),e.b+=n.length)}function kr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(xe=br.prototype).add=function(e,t){wr(this),this.c=null,e=kr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},xe.forEach=function(e,t){wr(this),this.a.forEach((function(n,r){Ke(n,(function(n){e.call(t,n,r,this)}),this)}),this)},xe.L=function(){wr(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},xe.K=function(e){wr(this);var t=[];if("string"===typeof e)Er(this,e)&&(t=He(t,this.a.get(kr(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=He(t,e[n])}return t},xe.set=function(e,t){return wr(this),this.c=null,Er(this,e=kr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},xe.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},xe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Tr=function(e,t){this.b=e,this.a=t};function Ir(e){this.g=e||xr,De.PerformanceNavigationTiming?e=0<(e=De.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var xr=10;function Nr(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Cr(e){return e.b?1:e.a?e.a.size:0}function Dr(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Ar(e,t){e.a?e.a.add(t):e.b=t}function Or(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Pr(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Ie(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return We(e.c)}function Rr(){}function Lr(){this.a=new Rr}function Mr(e,t,n){var r=n||"";try{Zn(e,(function(e,n){var i=e;Pe(e)&&(i=Yt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(qp){throw t.push(r+"type="+encodeURIComponent("_badmap")),qp}}function Fr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Ir.prototype.cancel=function(){var e,t;if(this.c=Pr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ie(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Rr.prototype.stringify=function(e){return De.JSON.stringify(e,void 0)},Rr.prototype.parse=function(e){return De.JSON.parse(e,void 0)};var Ur=De.JSON.parse;function jr(e){Qt.call(this),this.headers=new Jn,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vr,this.D=this.F=!1}ze(jr,Qt);var Vr="",zr=/^https?$/i,qr=["POST","PUT"];function Br(e){return"content-type"==e.toLowerCase()}function Kr(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Hr(e),Qr(e)}function Hr(e){e.u||(e.u=!0,Gt(e,"complete"),Gt(e,"error"))}function Wr(e){if(e.b&&"undefined"!=typeof Ce&&(!e.s[1]||4!=$r(e)||2!=e.W()))if(e.l&&4==$r(e))ln(e.za,0,e);else if(Gt(e,"readystatechange"),4==$r(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(nr)[1]||null;if(!o&&De.self&&De.self.location){var a=De.self.location.protocol;o=a.substr(0,a.length-1)}i=!zr.test(o?o.toLowerCase():"")}t=i}if(t)Gt(e,"complete"),Gt(e,"success");else{e.h=6;try{var u=2<$r(e)?e.a.statusText:""}catch(n){u=""}e.f=u+" ["+e.W()+"]",Hr(e)}}finally{Qr(e)}}}function Qr(e,t){if(e.a){Gr(e);var n=e.a,r=e.s[0]?Ae:null;e.a=null,e.s=null,t||Gt(e,"ready");try{n.onreadystatechange=r}catch(qp){}}}function Gr(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(De.clearTimeout(e.m),e.m=null)}function $r(e){return e.a?e.a.readyState:0}function Yr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return et(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cr(e,t,n))}function Xr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zr(e){this.pa=0,this.g=[],this.c=new mn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xr("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xr("baseRetryDelayMs",5e3,e),this.Ra=Xr("retryDelaySeedMs",1e4,e),this.Ma=Xr("forwardChannelMaxRetries",2,e),this.ma=Xr("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Ir(e&&e.concurrentRequestLimit),this.ka=new Lr,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Jr(e){if(ti(e),3==e.v){var t=e.R++,n=ir(e.B);cr(n,"SID",e.J),cr(n,"RID",t),cr(n,"TYPE","terminate"),oi(e,n),(t=new Un(e,e.c,t,void 0)).H=2,t.i=lr(ir(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(t.i.toString(),"")),!n&&De.Image&&((new Image).src=t.i,n=!0),n||(t.a=mi(t.g,null),t.a.ba(t.i)),t.u=Ve(),Wn(t)}yi(e)}function ei(e){e.a&&(ci(e),e.a.cancel(),e.a=null)}function ti(e){ei(e),e.j&&(De.clearTimeout(e.j),e.j=null),fi(e),e.b.cancel(),e.h&&("number"===typeof e.h&&De.clearTimeout(e.h),e.h=null)}function ni(e,t){e.g.push(new Tr(e.Oa++,t)),3==e.v&&ri(e)}function ri(e){Nr(e.b)||e.h||(e.h=!0,rn(e.Ba,e),e.u=0)}function ii(e,t){var n;n=t?t.f:e.R++;var r=ir(e.B);cr(r,"SID",e.J),cr(r,"RID",n),cr(r,"AID",e.P),oi(e,r),e.i&&e.l&&Yr(r,e.i,e.l),n=new Un(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=ai(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Ar(e.b,n),qn(n,r,t)}function oi(e,t){e.f&&Zn({},(function(e,n){cr(t,n,e)}))}function ai(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Ue(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),u=!1;else try{Mr(l,a,"req"+c+"_")}catch(Yi){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function ui(e){e.a||e.j||(e.T=1,rn(e.Aa,e),e.o=0)}function si(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=xn(Ue(e.Aa,e),di(e,e.o)),e.o++,!0)}function ci(e){null!=e.s&&(De.clearTimeout(e.s),e.s=null)}function li(e){e.a=new Un(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=ir(e.la);cr(t,"RID","rpc"),cr(t,"SID",e.J),cr(t,"CI",e.H?"0":"1"),cr(t,"AID",e.P),oi(e,t),cr(t,"TYPE","xmlhttp"),e.i&&e.l&&Yr(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=lr(ir(t)),n.j=null,n.I=!0,Bn(n,e)}function fi(e){null!=e.m&&(De.clearTimeout(e.m),e.m=null)}function hi(e,t){var n=null;if(e.a==t){fi(e),ci(e),e.a=null;var r=2}else{if(!Dr(e.b,t))return;n=t.s,Or(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Ve()-t.u;var i=e.u;Gt(r=Sn(),new In(r,n,t,i)),ri(e)}else ui(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Cr(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=xn(Ue(e.Ba,e,t),di(e,e.u)),e.u++,!0))}(e,t)||2==r&&si(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:pi(e,5);break;case 4:pi(e,10);break;case 3:pi(e,6);break;default:pi(e,2)}}function di(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function pi(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=Ue(e.Ya,e);n||(n=new rr("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||or(n,"https"),lr(n)),function(e,t){var n=new mn;if(De.Image){var r=new Image;r.onload=je(Fr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=je(Fr,n,r,"TestLoadImage: error",!1,t),r.onabort=je(Fr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=je(Fr,n,r,"TestLoadImage: timeout",!1,t),De.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tn(2);e.v=0,e.f&&e.f.ra(t),yi(e),ti(e)}function yi(e){e.v=0,e.I=-1,e.f&&(0==Pr(e.b).length&&0==e.g.length||(e.b.c.length=0,We(e.g),e.g.length=0),e.f.qa())}function vi(e,t,n){var r=function(e){return e instanceof rr?ir(e):new rr(e,void 0)}(n);if(""!=r.c)t&&ar(r,t+"."+r.c),ur(r,r.h);else{var i=De.location;r=function(e,t,n,r){var i=new rr(null,void 0);return e&&or(i,e),t&&ar(i,t),n&&ur(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&et(e.V,(function(e,t){cr(r,t,e)})),t=e.A,n=e.na,t&&n&&cr(r,t,n),cr(r,"VER",e.ha),oi(e,r),r}function mi(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new jr(e.Na)).F=e.C,t}function gi(){}function bi(){if(ut&&!(10<=Number(wt)))throw Error("Environmental error: no available transport.")}function wi(e,t){Qt.call(this),this.a=new Zr(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qe(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qe(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new _i(this)}function Si(e){Ln.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Ei(){Mn.call(this),this.status=1}function _i(e){this.a=e}(xe=jr.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?An(this.H):An(Pn),this.a.onreadystatechange=Ue(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Kr(this,o)}e=n||"";var i=new Jn(this.headers);r&&Zn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Br,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=De.FormData&&e instanceof De.FormData,!(0<=Be(qr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gr(this),0<this.o&&((this.D=function(e){return ut&&gt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ue(this.xa,this)):this.m=ln(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Kr(this,o)}},xe.xa=function(){"undefined"!=typeof Ce&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Gt(this,"timeout"),this.abort(8))},xe.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Gt(this,"complete"),Gt(this,"abort"),Qr(this))},xe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qr(this,!0)),jr.X.G.call(this)},xe.za=function(){this.j||(this.A||this.l||this.g?Wr(this):this.Ua())},xe.Ua=function(){Wr(this)},xe.W=function(){try{return 2<$r(this)?this.a.status:-1}catch(e){return-1}},xe.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},xe.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ur(t)}},xe.ua=function(){return this.h},xe.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(xe=Zr.prototype).ha=8,xe.v=1,xe.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Un(this,this.c,e,void 0),r=this.l;if(this.O&&(r?rt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ai(this,n,t),cr(i=ir(this.B),"RID",e),cr(i,"CVER",22),this.A&&cr(i,"X-HTTP-Session-Id",this.A),oi(this,i),this.i&&r&&Yr(i,this.i,r),Ar(this.b,n),this.Ia&&cr(i,"TYPE","init"),this.da?(cr(i,"$req",t),cr(i,"SID","null"),n.U=!0,qn(n,i,null)):qn(n,i,t),this.v=2}}else 3==this.v&&(e?ii(this,e):0==this.g.length||Nr(this.b)||ii(this))},xe.Aa=function(){if(this.j=null,li(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=xn(Ue(this.Ta,this),e)}},xe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(10),ei(this),li(this))},xe.Sa=function(){null!=this.m&&(this.m=null,ei(this),si(this),Tn(19))},xe.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Tn(2)):(this.c.info("Failed to ping google.com"),Tn(1))},(xe=gi.prototype).ta=function(){},xe.sa=function(){},xe.ra=function(){},xe.qa=function(){},xe.Ja=function(){},bi.prototype.a=function(e,t){return new wi(e,t)},ze(wi,Qt),wi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Tn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=vi(e,null,e.fa),ri(e)},wi.prototype.close=function(){Jr(this.a)},wi.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,ni(this.a,t)}else this.l?((t={}).__data__=Yt(e),ni(this.a,t)):ni(this.a,e)},wi.prototype.G=function(){this.a.f=null,delete this.f,Jr(this.a),delete this.a,wi.X.G.call(this)},ze(Si,Ln),ze(Ei,Mn),ze(_i,gi),_i.prototype.ta=function(){Gt(this.a,"a")},_i.prototype.sa=function(e){Gt(this.a,new Si(e))},_i.prototype.ra=function(e){Gt(this.a,new Ei(e))},_i.prototype.qa=function(){Gt(this.a,"b")},bi.prototype.createWebChannel=bi.prototype.a,wi.prototype.send=wi.prototype.h,wi.prototype.open=wi.prototype.g,wi.prototype.close=wi.prototype.close,Nn.NO_ERROR=0,Nn.TIMEOUT=8,Nn.HTTP_ERROR=6,Cn.COMPLETE="complete",On.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Qt.prototype.listen=Qt.prototype.va,jr.prototype.listenOnce=jr.prototype.wa,jr.prototype.getLastError=jr.prototype.Qa,jr.prototype.getLastErrorCode=jr.prototype.ua,jr.prototype.getStatus=jr.prototype.W,jr.prototype.getResponseJson=jr.prototype.Pa,jr.prototype.getResponseText=jr.prototype.$,jr.prototype.send=jr.prototype.ba;var ki=function(){return new bi},Ti=function(){return Sn()},Ii=Nn,xi=Cn,Ni=bn,Ci={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Di=On,Ai=jr,Oi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Oi.o=-1;var Pi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ri=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return x(t,e),t}(Error),Li=new se("@firebase/firestore");function Mi(){return Li.logLevel}function Fi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=te.DEBUG){var r=t.map(Vi);Li.debug.apply(Li,P(["Firestore (8.5.0): "+e],r))}}function Ui(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=te.ERROR){var r=t.map(Vi);Li.error.apply(Li,P(["Firestore (8.5.0): "+e],r))}}function ji(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=te.WARN){var r=t.map(Vi);Li.warn.apply(Li,P(["Firestore (8.5.0): "+e],r))}}function Vi(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function zi(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw Ui(t),new Error(t)}function qi(e,t){e||zi()}function Bi(e,t){return e}function Ki(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Hi=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ki(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Wi(e,t){return e<t?-1:e>t?1:0}function Qi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Gi(e){return e+"\0"}var $i=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ri(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ri(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ri(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ri(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Wi(this.nanoseconds,e.nanoseconds):Wi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Yi=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new $i(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Xi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ji(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var eo=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&zi(),void 0===n?n=e.length-t:n>e.length-t&&zi(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(eo),no=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return no.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ri(Pi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ri(Pi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Ri(Pi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(eo),io=function(){function e(e){this.fields=e,e.sort(ro.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Qi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),oo=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Wi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();oo.EMPTY_BYTE_STRING=new oo("");var ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(e){if(qi(!!e),"string"==typeof e){var t=0,n=ao.exec(e);if(qi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:so(e.seconds),nanos:so(e.nanos)}}function so(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function co(e){return"string"==typeof e?oo.fromBase64String(e):oo.fromUint8Array(e)}function lo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fo(e){var t=e.mapValue.fields.__previous_value__;return lo(t)?fo(t):t}function ho(e){var t=uo(e.mapValue.fields.__local_write_time__.timestampValue);return new $i(t.seconds,t.nanos)}function po(e){return null==e}function yo(e){return 0===e&&1/e==-1/0}function vo(e){return"number"==typeof e&&Number.isInteger(e)&&!yo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mo=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(to.fromString(t))},e.fromName=function(t){return new e(to.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===to.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return to.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new to(t.slice()))},e}();function go(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lo(e)?4:10:zi()}function bo(e,t){var n=go(e);if(n!==go(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ho(e).isEqual(ho(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=uo(e.timestampValue),r=uo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return co(e.bytesValue).isEqual(co(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return so(e.geoPointValue.latitude)===so(t.geoPointValue.latitude)&&so(e.geoPointValue.longitude)===so(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return so(e.integerValue)===so(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=so(e.doubleValue),r=so(t.doubleValue);return n===r?yo(n)===yo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qi(e.arrayValue.values||[],t.arrayValue.values||[],bo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xi(n)!==Xi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bo(n[i],r[i])))return!1;return!0}(e,t);default:return zi()}}function wo(e,t){return void 0!==(e.values||[]).find((function(e){return bo(e,t)}))}function So(e,t){var n=go(e),r=go(t);if(n!==r)return Wi(n,r);switch(n){case 0:return 0;case 1:return Wi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=so(e.integerValue||e.doubleValue),r=so(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Eo(e.timestampValue,t.timestampValue);case 4:return Eo(ho(e),ho(t));case 5:return Wi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=co(e),r=co(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Wi(n[i],r[i]);if(0!==o)return o}return Wi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Wi(so(e.latitude),so(t.latitude));return 0!==n?n:Wi(so(e.longitude),so(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=So(n[i],r[i]);if(o)return o}return Wi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=Wi(r[a],o[a]);if(0!==u)return u;var s=So(n[r[a]],i[o[a]]);if(0!==s)return s}return Wi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw zi()}}function Eo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wi(e,t);var n=uo(e),r=uo(t),i=Wi(n.seconds,r.seconds);return 0!==i?i:Wi(n.nanos,r.nanos)}function _o(e){return ko(e)}function ko(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=uo(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?co(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mo.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ko(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ko(e.fields[o])}return t+"}"}(e.mapValue):zi();var t,n}function To(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Io(e){return!!e&&"integerValue"in e}function xo(e){return!!e&&"arrayValue"in e}function No(e){return!!e&&"nullValue"in e}function Co(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Do(e){return!!e&&"mapValue"in e}var Ao=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(ro.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return bo(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===go(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=Do(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(ro.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!Do(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function Oo(e){var t=[];return Zi(e.fields||{},(function(e,n){var r=new ro([e]);if(Do(n)){var i=Oo(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new io(t)}var Po=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Yi.min(),Ao.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ao.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ao.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ro=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Lo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ro(e,t,n,r,i,o,a)}function Mo(e){var t=Bi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+_o(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),po(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$o(t.startAt)),t.endAt&&(n+="|ub:",n+=$o(t.endAt)),t.h=n}return t.h}function Fo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!bo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jo(e.startAt,t.startAt)&&Jo(e.endAt,t.endAt)}function Uo(e){return mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var jo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return x(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Vo(e,n,r):"array-contains"===n?new Ko(e,r):"in"===n?new Ho(e,r):"not-in"===n?new Wo(e,r):"array-contains-any"===n?new Qo(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new zo(e,n):new qo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(So(t,this.value)):null!==t&&go(this.value)===go(t)&&this.m(So(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zi()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Vo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=mo.fromName(r.referenceValue),i}return x(t,e),t.prototype.matches=function(e){var t=mo.comparator(e.key,this.key);return this.m(t)},t}(jo),zo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Bo("in",n),r}return x(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jo),qo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Bo("not-in",n),r}return x(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jo);function Bo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return mo.fromName(e.referenceValue)}))}var Ko=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return x(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return xo(t)&&wo(t.arrayValue,this.value)},t}(jo),Ho=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return x(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&wo(this.value.arrayValue,t)},t}(jo),Wo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return x(t,e),t.prototype.matches=function(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wo(this.value.arrayValue,t)},t}(jo),Qo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return x(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!xo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wo(t.value.arrayValue,e)}))},t}(jo),Go=function(e,t){this.position=e,this.before=t};function $o(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return _o(e)})).join(",")}var Yo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Xo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Zo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?mo.comparator(mo.fromName(a.referenceValue),n.key):So(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Jo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bo(e.position[n],t.position[n]))return!1;return!0}var ea=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function ta(e,t,n,r,i,o,a,u){return new ea(e,t,n,r,i,o,a,u)}function na(e){return new ea(e)}function ra(e){return!po(e.limit)&&"F"===e.limitType}function ia(e){return!po(e.limit)&&"L"===e.limitType}function oa(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function aa(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ua(e){return null!==e.collectionGroup}function sa(e){var t=Bi(e);if(null===t.p){t.p=[];var n=aa(t),r=oa(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Yo(n)),t.p.push(new Yo(ro.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Yo(ro.keyField(),s))}}}return t.p}function ca(e){var t=Bi(e);if(!t.T)if("F"===t.limitType)t.T=Lo(t.path,t.collectionGroup,sa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=sa(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Yo(o.field,a))}var u=t.endAt?new Go(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Go(t.startAt.position,!t.startAt.before):null;t.T=Lo(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function la(e,t,n){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fa(e,t){return Fo(ca(e),ca(t))&&e.limitType===t.limitType}function ha(e){return Mo(ca(e))+"|lt:"+e.limitType}function da(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+_o(t.value);var t})).join(", ")+"]"),po(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+$o(e.startAt)),e.endAt&&(t+=", endAt: "+$o(e.endAt)),"Target("+t+")"}(ca(e))+"; limitType="+e.limitType+")"}function pa(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Zo(e.startAt,sa(e),t))&&(!e.endAt||!Zo(e.endAt,sa(e),t))}(e,t)}function ya(e){return function(t,n){for(var r=!1,i=0,o=sa(e);i<o.length;i++){var a=o[i],u=va(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function va(e,t,n){var r=e.field.isKeyField()?mo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?So(r,i):zi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zi()}}function ma(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yo(t)?"-0":t}}function ga(e){return{integerValue:""+e}}function ba(e,t){return vo(t)?ga(t):ma(e,t)}var wa=function(){this._=void 0};function Sa(e,t,n){return e instanceof ka?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ta?Ia(e,t):e instanceof xa?Na(e,t):function(e,t){var n=_a(e,t),r=Da(n)+Da(e.A);return Io(n)&&Io(e.A)?ga(r):ma(e.R,r)}(e,t)}function Ea(e,t,n){return e instanceof Ta?Ia(e,t):e instanceof xa?Na(e,t):n}function _a(e,t){return e instanceof Ca?Io(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t}(wa),Ta=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return x(t,e),t}(wa);function Ia(e,t){for(var n=Aa(t),r=function(e){n.some((function(t){return bo(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return x(t,e),t}(wa);function Na(e,t){for(var n=Aa(t),r=function(e){n=n.filter((function(t){return!bo(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return x(t,e),t}(wa);function Da(e){return so(e.integerValue||e.doubleValue)}function Aa(e){return xo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Oa=function(e,t){this.field=e,this.transform=t},Pa=function(e,t){this.version=e,this.transformResults=t},Ra=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function La(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ma=function(){};function Fa(e,t,n){e instanceof qa?function(e,t,n){var r=e.value.clone(),i=Ha(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ba?function(e,t,n){if(La(e.precondition,t)){var r=Ha(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ka(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ua(e,t,n){e instanceof qa?function(e,t,n){if(La(e.precondition,t)){var r=e.value.clone(),i=Wa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(za(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ba?function(e,t,n){if(La(e.precondition,t)){var r=Wa(e.fieldTransforms,n,t),i=t.data;i.setAll(Ka(e)),i.setAll(r),t.convertToFoundDocument(za(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){La(e.precondition,t)&&t.convertToNoDocument(Yi.min())}(e,t)}function ja(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=_a(o.transform,a||null);null!=u&&(null==n&&(n=Ao.empty()),n.set(o.field,u))}return n||null}function Va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ta&&t instanceof Ta||e instanceof xa&&t instanceof xa?Qi(e.elements,t.elements,bo):e instanceof Ca&&t instanceof Ca?bo(e.A,t.A):e instanceof ka&&t instanceof ka}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function za(e){return e.isFoundDocument()?e.version:Yi.min()}var qa=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return x(t,e),t}(Ma),Ba=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return x(t,e),t}(Ma);function Ka(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ha(e,t,n){var r=new Map;qi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Ea(a,u,n[i]))}return r}function Wa(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Sa(u,s,t))}return r}var Qa,Ga,$a=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return x(t,e),t}(Ma),Ya=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return x(t,e),t}(Ma),Xa=function(e){this.count=e};function Za(e){switch(e){case Pi.OK:return zi();case Pi.CANCELLED:case Pi.UNKNOWN:case Pi.DEADLINE_EXCEEDED:case Pi.RESOURCE_EXHAUSTED:case Pi.INTERNAL:case Pi.UNAVAILABLE:case Pi.UNAUTHENTICATED:return!1;case Pi.INVALID_ARGUMENT:case Pi.NOT_FOUND:case Pi.ALREADY_EXISTS:case Pi.PERMISSION_DENIED:case Pi.FAILED_PRECONDITION:case Pi.ABORTED:case Pi.OUT_OF_RANGE:case Pi.UNIMPLEMENTED:case Pi.DATA_LOSS:return!0;default:return zi()}}function Ja(e){if(void 0===e)return Ui("GRPC error has no .code"),Pi.UNKNOWN;switch(e){case Qa.OK:return Pi.OK;case Qa.CANCELLED:return Pi.CANCELLED;case Qa.UNKNOWN:return Pi.UNKNOWN;case Qa.DEADLINE_EXCEEDED:return Pi.DEADLINE_EXCEEDED;case Qa.RESOURCE_EXHAUSTED:return Pi.RESOURCE_EXHAUSTED;case Qa.INTERNAL:return Pi.INTERNAL;case Qa.UNAVAILABLE:return Pi.UNAVAILABLE;case Qa.UNAUTHENTICATED:return Pi.UNAUTHENTICATED;case Qa.INVALID_ARGUMENT:return Pi.INVALID_ARGUMENT;case Qa.NOT_FOUND:return Pi.NOT_FOUND;case Qa.ALREADY_EXISTS:return Pi.ALREADY_EXISTS;case Qa.PERMISSION_DENIED:return Pi.PERMISSION_DENIED;case Qa.FAILED_PRECONDITION:return Pi.FAILED_PRECONDITION;case Qa.ABORTED:return Pi.ABORTED;case Qa.OUT_OF_RANGE:return Pi.OUT_OF_RANGE;case Qa.UNIMPLEMENTED:return Pi.UNIMPLEMENTED;case Qa.DATA_LOSS:return Pi.DATA_LOSS;default:return zi()}}(Ga=Qa||(Qa={}))[Ga.OK=0]="OK",Ga[Ga.CANCELLED=1]="CANCELLED",Ga[Ga.UNKNOWN=2]="UNKNOWN",Ga[Ga.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ga[Ga.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ga[Ga.NOT_FOUND=5]="NOT_FOUND",Ga[Ga.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ga[Ga.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ga[Ga.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ga[Ga.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ga[Ga.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ga[Ga.ABORTED=10]="ABORTED",Ga[Ga.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ga[Ga.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ga[Ga.INTERNAL=13]="INTERNAL",Ga[Ga.UNAVAILABLE=14]="UNAVAILABLE",Ga[Ga.DATA_LOSS=15]="DATA_LOSS";var eu=function(){function e(e,t){this.comparator=e,this.root=t||nu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new tu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new tu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new tu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new tu(this.root,e,this.comparator,!0)},e}(),tu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),nu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zi();if(this.right.isRed())throw zi();var e=this.left.check();if(e!==this.right.check())throw zi();return e+(this.isRed()?0:1)},e}();nu.EMPTY=null,nu.RED=!0,nu.BLACK=!1,nu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw zi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw zi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw zi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw zi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw zi()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new nu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ru=function(){function e(e){this.comparator=e,this.data=new eu(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new iu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new iu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),iu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ou=new eu(mo.comparator);function au(){return ou}var uu=new eu(mo.comparator);function su(){return uu}var cu=new eu(mo.comparator);function lu(){return cu}var fu=new ru(mo.comparator);function hu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=fu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var du=new ru(Wi);function pu(){return du}var yu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Yi.min(),r,pu(),au(),hu())},e}(),vu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(oo.EMPTY_BYTE_STRING,n,hu(),hu(),hu())},e}(),mu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},gu=function(e,t){this.targetId=e,this.V=t},bu=function(e,t,n,r){void 0===n&&(n=oo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},wu=function(){function e(){this.S=0,this.D=_u(),this.C=oo.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=hu(),t=hu(),n=hu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zi()}})),new vu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=_u()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Su=function(){function e(e){this.W=e,this.G=new Map,this.H=au(),this.J=Eu(),this.Y=new ru(Wi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:zi()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Uo(i))if(0===n){var o=new mo(i.path);this.tt(t,o,Po.newNoDocument(o,Yi.min()))}else qi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Uo(o.target)){var a=new mo(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Po.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=hu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new yu(e,n,this.Y,this.H,r);return this.H=au(),this.J=Eu(),this.Y=new ru(Wi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new wu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ru(Wi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Fi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new wu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Eu(){return new eu(mo.comparator)}function _u(){return new eu(mo.comparator)}var ku={asc:"ASCENDING",desc:"DESCENDING"},Tu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iu=function(e,t){this.databaseId=e,this.I=t};function xu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Cu(e,t){return xu(e,t.toTimestamp())}function Du(e){return qi(!!e),Yi.fromTimestamp(function(e){var t=uo(e);return new $i(t.seconds,t.nanos)}(e))}function Au(e,t){return function(e){return new to(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ou(e){var t=to.fromString(e);return qi(ns(t)),t}function Pu(e,t){return Au(e.databaseId,t.path)}function Ru(e,t){var n=Ou(t);if(n.get(1)!==e.databaseId.projectId)throw new Ri(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ri(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mo(Uu(n))}function Lu(e,t){return Au(e.databaseId,t)}function Mu(e){var t=Ou(e);return 4===t.length?to.emptyPath():Uu(t)}function Fu(e){return new to(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uu(e){return qi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ju(e,t,n){return{name:Pu(e,t),fields:n.toProto().mapValue.fields}}function Vu(e,t,n){var r=Ru(e,t.name),i=Du(t.updateTime),o=new Ao({mapValue:{fields:t.fields}}),a=Po.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zu(e,t){var n;if(t instanceof qa)n={update:ju(e,t.key,t.value)};else if(t instanceof $a)n={delete:Pu(e,t.key)};else if(t instanceof Ba)n={update:ju(e,t.key,t.data),updateMask:ts(t.fieldMask)};else{if(!(t instanceof Ya))return zi();n={verify:Pu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ka)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),increment:n.A};throw zi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zi()}(e,t.precondition)),n}function qu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ra.updateTime(Du(e.updateTime)):void 0!==e.exists?Ra.exists(e.exists):Ra.none()}(t.currentDocument):Ra.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)qi("REQUEST_TIME"===t.setToServerValue),n=new ka;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ta(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new xa(i)}else"increment"in t?n=new Ca(e,t.increment):zi();var o=ro.fromServerFormat(t.fieldPath);return new Oa(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ru(e,t.update.name),o=new Ao({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new io(t.map((function(e){return ro.fromServerFormat(e)})))}(t.updateMask);return new Ba(i,o,a,n,r)}return new qa(i,o,n,r)}if(t.delete){var u=Ru(e,t.delete);return new $a(u,n)}if(t.verify){var s=Ru(e,t.verify);return new Ya(s,n)}return zi()}function Bu(e,t){return{documents:[Lu(e,t.path)]}}function Ku(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Co(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NAN"}};if(No(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Co(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NAN"}};if(No(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(e.field),op:Yu(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xu(e.field),direction:$u(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||po(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Qu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Qu(t.endAt)),n}function Hu(e){var t=Mu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Wu(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yo(Zu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return po(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Gu(n.startAt));var l=null;return n.endAt&&(l=Gu(n.endAt)),ta(t,i,u,a,s,"F",c,l)}function Wu(e){return e?void 0!==e.unaryFilter?[es(e)]:void 0!==e.fieldFilter?[Ju(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Wu(e)})).reduce((function(e,t){return e.concat(t)})):zi():[]}function Qu(e){return{before:e.before,values:e.position}}function Gu(e){var t=!!e.before,n=e.values||[];return new Go(n,t)}function $u(e){return ku[e]}function Yu(e){return Tu[e]}function Xu(e){return{fieldPath:e.canonicalString()}}function Zu(e){return ro.fromServerFormat(e.fieldPath)}function Ju(e){return jo.create(Zu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zi()}}(e.fieldFilter.op),e.fieldFilter.value)}function es(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zu(e.unaryFilter.field);return jo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zu(e.unaryFilter.field);return jo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zu(e.unaryFilter.field);return jo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zu(e.unaryFilter.field);return jo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zi()}}function ts(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ns(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function rs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=os(t)),t=is(e.get(n),t);return os(t)}function is(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function os(e){return e+"\x01\x01"}function as(e){var t=e.length;if(qi(t>=2),2===t)return qi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),to.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&zi(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:zi()}o=a+2}return new to(r)}var us=function(e,t){this.seconds=e,this.nanoseconds=t},ss=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ss.store="owner",ss.key="owner";var cs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};cs.store="mutationQueues",cs.keyPath="userId";var ls=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ls.store="mutations",ls.keyPath="batchId",ls.userMutationsIndex="userMutationsIndex",ls.userMutationsKeyPath=["userId","batchId"];var fs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,rs(t)]},e.key=function(e,t,n){return[e,rs(t),n]},e}();fs.store="documentMutations",fs.PLACEHOLDER=new fs;var hs=function(e,t){this.path=e,this.readTime=t},ds=function(e,t){this.path=e,this.version=t},ps=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ps.store="remoteDocuments",ps.readTimeIndex="readTimeIndex",ps.readTimeIndexPath="readTime",ps.collectionReadTimeIndex="collectionReadTimeIndex",ps.collectionReadTimeIndexPath=["parentPath","readTime"];var ys=function(e){this.byteSize=e};ys.store="remoteDocumentGlobal",ys.key="remoteDocumentGlobalKey";var vs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vs.store="targets",vs.keyPath="targetId",vs.queryTargetsIndexName="queryTargetsIndex",vs.queryTargetsKeyPath=["canonicalId","targetId"];var ms=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ms.store="targetDocuments",ms.keyPath=["targetId","path"],ms.documentTargetsIndex="documentTargetsIndex",ms.documentTargetsKeyPath=["path","targetId"];var gs=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gs.key="targetGlobalKey",gs.store="targetGlobal";var bs=function(e,t){this.collectionId=e,this.parent=t};bs.store="collectionParents",bs.keyPath=["collectionId","parent"];var ws=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ws.store="clientMetadata",ws.keyPath="clientId";var Ss=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ss.store="bundles",Ss.keyPath="bundleId";var Es=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Es.store="namedQueries",Es.keyPath="name";var _s=P(P([],P(P([],P(P([],P(P([],[cs.store,ls.store,fs.store,ps.store,vs.store,ss.store,gs.store,ms.store]),[ws.store])),[ys.store])),[bs.store])),[Ss.store,Es.store]),ks="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ts=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Is=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},xs=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&zi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ns=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Is,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new As(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ms(t.target.error);n.ft.reject(new As(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new As(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Fi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Ps(t)},e}(),Cs=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(U())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Fi("SimpleDb","Removing database:",e),Rs(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=U(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Wendideye",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return C(this,void 0,void 0,(function(){var t,n=this;return D(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Fi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new As(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Ri(Pi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new As(e,n))},i.onupgradeneeded=function(e){Fi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Fi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o,a,u,s;return D(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return D(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=Ns.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),xs.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Fi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ds=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Rs(this.Pt.delete())},e}(),As=function(e){function t(t,n){var r=this;return(r=e.call(this,Pi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return x(t,e),t}(Ri);function Os(e){return"IndexedDbTransactionError"===e.name}var Ps=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Fi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rs(n)},e.prototype.add=function(e){return Fi("SimpleDb","ADD",this.store.name,e,e),Rs(this.store.add(e))},e.prototype.get=function(e){var t=this;return Rs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Fi("SimpleDb","DELETE",this.store.name,e),Rs(this.store.delete(e))},e.prototype.count=function(){return Fi("SimpleDb","COUNT",this.store.name),Rs(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Fi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new xs((function(n,r){t.onerror=function(e){var t=Ms(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new xs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ds(i),a=t(i.primaryKey,i.value,o);if(a instanceof xs){var u=a.catch((function(e){return o.done(),xs.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return xs.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Rs(e){return new xs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ms(e.target.error);n(t)}}))}var Ls=!1;function Ms(e){var t=Cs._t(U());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ri("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ls||(Ls=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return x(t,e),t}(Ts);function Us(e,t){var n=Bi(e);return Cs.It(n.Mt,t)}var js=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fa(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ua(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ua(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Yi.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(function(e,t){return Va(e,t)}))&&Qi(this.baseMutations,e.baseMutations,(function(e,t){return Va(e,t)}))},e}(),Vs=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){qi(t.mutations.length===r.length);for(var i=lu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),zs=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Yi.min()),void 0===o&&(o=Yi.min()),void 0===a&&(a=oo.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),qs=function(e){this.Lt=e};function Bs(e,t){if(t.document)return Vu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=mo.fromSegments(t.noDocument.path),r=Gs(t.noDocument.readTime),i=Po.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=mo.fromSegments(t.unknownDocument.path);return r=Gs(t.unknownDocument.version),Po.newUnknownDocument(o,r)}return zi()}function Ks(e,t,n){var r=Hs(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Pu(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:xu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ps(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Qs(t.version);return a=t.hasCommittedMutations,new ps(null,new hs(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Qs(t.version);return new ps(new ds(c,l),null,null,!0,r,i)}return zi()}function Hs(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ws(e){var t=new $i(e[0],e[1]);return Yi.fromTimestamp(t)}function Qs(e){var t=e.toTimestamp();return new us(t.seconds,t.nanoseconds)}function Gs(e){var t=new $i(e.seconds,e.nanoseconds);return Yi.fromTimestamp(t)}function $s(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qu(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return qu(e.Lt,t)})),u=$i.fromMillis(t.localWriteTimeMs);return new js(t.batchId,u,n,a)}function Ys(e){var t,n,r=Gs(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Gs(e.lastLimboFreeSnapshotVersion):Yi.min();return void 0!==e.query.documents?(qi(1===(n=e.query).documents.length),t=ca(na(Mu(n.documents[0])))):t=function(e){return ca(Hu(e))}(e.query),new zs(t,e.targetId,0,e.lastListenSequenceNumber,r,i,oo.fromBase64String(e.resumeToken))}function Xs(e,t){var n,r=Qs(t.snapshotVersion),i=Qs(t.lastLimboFreeSnapshotVersion);n=Uo(t.target)?Bu(e.Lt,t.target):Ku(e.Lt,t.target);var o=t.resumeToken.toBase64();return new vs(t.targetId,Mo(t.target),r,o,t.sequenceNumber,i,n)}function Zs(e){var t=Hu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?la(t,t.limit,"L"):t}var Js=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ec(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Gs(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ec(e).put({bundleId:(n=t).id,createTime:Qs(Du(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return tc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zs(t.bundledQuery),readTime:Gs(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return tc(e).put(function(e){return{name:e.name,readTime:Qs(Du(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ec(e){return Us(e,Ss.store)}function tc(e){return Us(e,Es.store)}var nc=function(){function e(){this.Bt=new rc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),xs.resolve()},e.prototype.getCollectionParents=function(e,t){return xs.resolve(this.Bt.getEntries(t))},e}(),rc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ru(to.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ru(to.comparator)).toArray()},e}(),ic=function(){function e(){this.qt=new rc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:rs(i)};return oc(e).put(o)}return xs.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Gi(t),""],!1,!0);return oc(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(as(o.parent))}return n}))},e}();function oc(e){return Us(e,bs.store)}var ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function sc(e,t,n){var r=e.store(ls.store),i=e.store(fs.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Ot({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){qi(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=fs.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return xs.waitFor(o).next((function(){return c}))}function cc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zi();t=e.noDocument}return JSON.stringify(t).length}uc.DEFAULT_COLLECTION_PERCENTILE=10,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uc.DEFAULT=new uc(41943040,uc.DEFAULT_COLLECTION_PERCENTILE,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uc.DISABLED=new uc(-1,0,0);var lc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return qi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).Ot({index:ls.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=dc(e),a=hc(e);return a.add({}).next((function(u){qi("number"==typeof u);for(var s=new js(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return zu(e.Lt,t)})),i=n.mutations.map((function(t){return zu(e.Lt,t)}));return new ls(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new ru((function(e,t){return Wi(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],y=fs.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(y,fs.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[u]=s.keys()})),xs.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return hc(e).get(t).next((function(e){return e?(qi(e.userId===n.userId),$s(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?xs.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hc(e).Ot({index:ls.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(qi(t.batchId>=r),o=$s(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hc(e).Ot({index:ls.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).Nt(ls.userMutationsIndex,n).next((function(e){return e.map((function(e){return $s(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=fs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return dc(e).Ot({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=as(s);if(u===n.userId&&t.path.isEqual(l))return hc(e).get(c).next((function(e){if(!e)throw zi();qi(e.userId===n.userId),o.push($s(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ru(Wi),i=[];return t.forEach((function(t){var o=fs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=dc(e).Ot({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=as(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),xs.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=fs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new ru(Wi);return dc(e).Ot({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=as(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hc(e).get(t).next((function(e){if(null===e)throw zi();qi(e.userId===n.userId),r.push($s(n.R,e))})))})),xs.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return sc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),xs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xs.resolve();var r=IDBKeyRange.lowerBound(fs.prefixForUser(t.userId)),i=[];return dc(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=as(e[1]);i.push(o)}else r.done()})).next((function(){qi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return fc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return pc(e).get(this.userId).next((function(e){return e||new cs(t.userId,-1,"")}))},e}();function fc(e,t,n){var r=fs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return dc(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function hc(e){return Us(e,ls.store)}function dc(e){return Us(e,fs.store)}function pc(e){return Us(e,cs.store)}var yc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),vc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new yc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Yi.fromTimestamp(new $i(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return mc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return qi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return mc(e).Ot((function(a,u){var s=Ys(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return xs.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return mc(e).Ot((function(e,n){var r=Ys(n);t(r)}))},e.prototype.Xt=function(e){return gc(e).get(gs.key).next((function(e){return qi(null!==e),e}))},e.prototype.Zt=function(e,t){return gc(e).put(gs.key,t)},e.prototype.te=function(e,t){return mc(e).put(Xs(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Mo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mc(e).Ot({range:r,index:vs.queryTargetsIndexName},(function(e,n,r){var o=Ys(n);Fo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=bc(e);return t.forEach((function(t){var a=rs(t.path);i.push(o.put(new ms(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),xs.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=bc(e);return xs.forEach(t,(function(t){var o=rs(t.path);return xs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=bc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bc(e),i=hu();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=as(e[1]),o=new mo(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=rs(t.path),r=IDBKeyRange.bound([n],[Gi(n)],!1,!0),i=0;return bc(e).Ot({index:ms.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return mc(e).get(t).next((function(e){return e?Ys(e):null}))},e}();function mc(e){return Us(e,vs.store)}function gc(e){return Us(e,gs.store)}function bc(e){return Us(e,ms.store)}function wc(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){if(e.code!==Pi.FAILED_PRECONDITION||e.message!==ks)throw e;return Fi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Sc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Wi(n,i);return 0===a?Wi(r,o):a}var Ec=function(){function e(e){this.ne=e,this.buffer=new ru(Sc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),_c=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Fi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return C(t,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Os(t=n.sent())?(Fi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,wc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),kc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return xs.resolve(Oi.o);var r=new Ec(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; disabled"),xs.resolve(ac)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ac):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Fi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Mi()<=te.DEBUG&&Fi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),xs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Tc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new kc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Ic(e,n)},e.prototype.removeReference=function(e,t,n){return Ic(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Ic(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return pc(e).$t((function(r){return fc(e,r,t).next((function(e){return e&&(n=!0),xs.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),bc(e).delete([0,rs(a.path)])}))}));i.push(s)}})).next((function(){return xs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Ic(e,t)},e.prototype.we=function(e,t){var n,r=bc(e),i=Oi.o;return r.Ot({index:ms.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),u=r.sequenceNumber;0===o?(i!==Oi.o&&t(new mo(as(n)),i),i=u,n=a):i=Oi.o})).next((function(){i!==Oi.o&&t(new mo(as(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Ic(e,t){return bc(e).put(function(e,t){return new ms(0,rs(e.path),t)}(t,e.currentSequenceNumber))}var xc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Zi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return Ji(this.inner)},e}(),Nc=function(){function e(){this.changes=new xc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Yi.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Po.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xs.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Cc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Oc(e).put(Pc(t),n)},e.prototype.removeEntry=function(e,t){var n=Oc(e),r=Pc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Oc(e).get(Pc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Oc(e).get(Pc(t)).next((function(e){return{document:n.ye(t,e),size:cc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=au();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=au(),i=new eu(mo.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,cc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return xs.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Oc(e).Ot({range:r},(function(e,t,r){for(var a=mo.fromSegments(e);o&&mo.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=au(),o=t.path.length+1,a={};if(n.isEqual(Yi.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Hs(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=ps.collectionReadTimeIndex}return Oc(e).Ot(a,(function(e,n,a){if(e.length===o){var u=Bs(r.R,n);t.path.isPrefixOf(u.key.path)?pa(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Dc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ac(e).get(ys.key).next((function(e){return qi(!!e),e}))},e.prototype.me=function(e,t){return Ac(e).put(ys.key,t)},e.prototype.ye=function(e,t){if(t){var n=Bs(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Yi.min()))return n}return Po.newInvalidDocument(e)},e}(),Dc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new xc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return x(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ru((function(e,t){return Wi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=Ks(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=cc(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=Ks(t.Ie.R,Po.newNoDocument(o,Yi.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),xs.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Nc);function Ac(e){return Us(e,ys.store)}function Oc(e){return Us(e,ps.store)}function Pc(e){return e.path.toArray()}var Rc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;qi(n<r&&n>=0&&r<=11);var o=new Ns("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ss.store)}(e),function(e){e.createObjectStore(cs.store,{keyPath:cs.keyPath}),e.createObjectStore(ls.store,{keyPath:ls.keyPath,autoIncrement:!0}).createIndex(ls.userMutationsIndex,ls.userMutationsKeyPath,{unique:!0}),e.createObjectStore(fs.store)}(e),Lc(e),function(e){e.createObjectStore(ps.store)}(e));var a=xs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ms.store),e.deleteObjectStore(vs.store),e.deleteObjectStore(gs.store)}(e),Lc(e)),a=a.next((function(){return function(e){var t=e.store(gs.store),n=new gs(0,0,Yi.min().toTimestamp(),0);return t.put(gs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ls.store).Nt().next((function(n){e.deleteObjectStore(ls.store),e.createObjectStore(ls.store,{keyPath:ls.keyPath,autoIncrement:!0}).createIndex(ls.userMutationsIndex,ls.userMutationsKeyPath,{unique:!0});var r=t.store(ls.store),i=n.map((function(e){return r.put(e)}));return xs.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ws.store,{keyPath:ws.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(ys.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ps.store);t.createIndex(ps.readTimeIndex,ps.readTimeIndexPath,{unique:!1}),t.createIndex(ps.collectionReadTimeIndex,ps.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Ss.store,{keyPath:Ss.keyPath})}(e),function(e){e.createObjectStore(Es.store,{keyPath:Es.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(ps.store).Ot((function(e,n){t+=cc(n)})).next((function(){var n=new ys(t);return e.store(ys.store).put(ys.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(cs.store),r=e.store(ls.store);return n.Nt().next((function(n){return xs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ls.userMutationsIndex,i).next((function(r){return xs.forEach(r,(function(r){qi(r.userId===n.userId);var i=$s(t.R,r);return sc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(ms.store),n=e.store(ps.store);return e.store(gs.store).get(gs.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new to(n),a=function(e){return[0,rs(e)]}(o);r.push(t.get(a).next((function(n){return n?xs.resolve():function(n){return t.put(new ms(0,rs(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return xs.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(bs.store,{keyPath:bs.keyPath});var n=t.store(bs.store),r=new rc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:rs(i)})}};return t.store(ps.store).Ot({kt:!0},(function(e,t){var n=new to(e);return i(n.popLast())})).next((function(){return t.store(fs.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],as(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(vs.store);return n.Ot((function(e,r){var i=Ys(r),o=Xs(t.R,i);return n.put(o)}))},e}();function Lc(e){e.createObjectStore(ms.store,{keyPath:ms.keyPath}).createIndex(ms.documentTargetsIndex,ms.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(vs.store,{keyPath:vs.keyPath}).createIndex(vs.queryTargetsIndexName,vs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gs.store)}var Mc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fc=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ri(Pi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tc(this,i),this.Le=n+"main",this.R=new qs(s),this.Be=new Cs(this.Le,11,new Rc(this.R)),this.qe=new vc(this.referenceDelegate,this.R),this.Ut=new ic,this.Ue=function(e,t){return new Cc(e,t)}(this.R,this.Ut),this.Qe=new Js,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ri(Pi.FAILED_PRECONDITION,Mc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Oi(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return C(t,void 0,void 0,(function(){return D(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return C(t,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return C(t,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jc(t).put(new ws(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Os(t))return Fi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Fi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Uc(e).get(ss.key).next((function(e){return xs.resolve(t.tn(e))}))},e.prototype.en=function(e){return jc(e).delete(this.clientId)},e.prototype.nn=function(){return C(this,void 0,void 0,(function(){var e,t,n,r,i=this;return D(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Us(e,ws.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return xs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?xs.resolve(!0):Uc(e).get(ss.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ri(Pi.FAILED_PRECONDITION,Mc);return!1}}return!(!t.networkEnabled||!t.inForeground)||jc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return C(this,void 0,void 0,(function(){var e=this;return D(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ss.store,ws.store],(function(t){var n=new Fs(t,Oi.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return lc.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Fi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,_s,(function(o){return i=new Fs(o,r.Ne?r.Ne.next():Oi.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ui("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ri(Pi.FAILED_PRECONDITION,ks);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Uc(e).get(ss.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ri(Pi.FAILED_PRECONDITION,Mc)}))},e.prototype.Ze=function(e){var t=new ss(this.clientId,this.allowTabSynchronization,Date.now());return Uc(e).put(ss.key,t)},e.yt=function(){return Cs.yt()},e.prototype.Xe=function(e){var t=this,n=Uc(e);return n.get(ss.key).next((function(e){return t.tn(e)?(Fi("IndexedDbPersistence","Releasing primary lease."),n.delete(ss.key)):xs.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ui("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return Fi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ui("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ui("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Uc(e){return Us(e,ss.store)}function jc(e){return Us(e,ws.store)}function Vc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zc=function(e,t){this.progress=e,this.wn=t},qc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ua(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new mo(t)).next((function(e){var t=su();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=su();return this.Ut.getCollectionParents(e,i).next((function(a){return xs.forEach(a,(function(a){var u=function(e,t){return new ea(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=Po.newInvalidDocument(c),r=r.insert(c,l)),Ua(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){pa(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=hu(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof Ba&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Bc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=hu(),i=hu(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Kc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Yi.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(ra(t)||ia(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Mi()<=te.DEBUG&&Fi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),da(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ru(ya(e));return t.forEach((function(t,r){pa(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Mi()<=te.DEBUG&&Fi("QueryEngine","Using full collection scan to execute query:",da(t)),this.Sn.getDocumentsMatchingQuery(e,t,Yi.min())},e}(),Hc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new eu(Wi),this.kn=new xc((function(e){return Mo(e)}),Fo),this.On=Yi.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new qc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Wc(e,t,n,r){return new Hc(e,t,n,r)}function Qc(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o;return D(this,(function(a){switch(a.label){case 0:return n=Bi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new qc(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=hu(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Gc(e,t){var n=Bi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=xs.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);qi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function $c(e){var t=Bi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Yc(e,t){var n=Bi(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return qi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=au();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Xc(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(Yi.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return xs.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function Xc(e,t,n,r,i){var o=hu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=au();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Yi.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):Fi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function Zc(e,t){var n=Bi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Jc(e,t){var n=Bi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,xs.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new zs(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function el(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a;return D(this,(function(u){switch(u.label){case 0:r=Bi(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Os(a=u.sent()))throw a;return Fi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function tl(e,t,n){var r=Bi(e),i=Yi.min(),o=hu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Bi(e),i=r.kn.get(n);return void 0!==i?xs.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,ca(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Yi.min(),n?o:hu())})).next((function(e){return{documents:e,Bn:o}}))}))}function nl(e,t){var n=Bi(e),r=Bi(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function rl(e){var t=Bi(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Bi(e),i=au(),o=Hs(n),a=Oc(t),u=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:ps.readTimeIndex,range:u},(function(e,t){var n=Bs(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Ws(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function il(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){return[2,(t=Bi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Oc(e),n=Yi.min();return t.Ot({index:ps.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ws(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function ol(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,h,d;return D(this,(function(p){switch(p.label){case 0:for(i=Bi(e),o=hu(),a=au(),u=lu(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Jc(i,function(e){return ca(na(to.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xc(e,h,a,Yi.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function al(e,t,n){return void 0===n&&(n=hu()),C(this,void 0,void 0,(function(){var r,i;return D(this,(function(o){switch(o.label){case 0:return[4,Jc(e,ca(Zs(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bi(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Du(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(oo.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var ul=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return xs.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:Du(n.createTime)}),xs.resolve()},e.prototype.getNamedQuery=function(e,t){return xs.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Zs(e.bundledQuery),readTime:Du(e.readTime)}}(t)),xs.resolve()},e}(),sl=function(){function e(){this.Wn=new ru(cl.Gn),this.zn=new ru(cl.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new cl(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new cl(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new mo(new to([])),r=new cl(n,e),i=new cl(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new mo(new to([])),n=new cl(t,e),r=new cl(t,e+1),i=hu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new cl(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),cl=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return mo.comparator(e.key,t.key)||Wi(e.ns,t.ns)},e.Hn=function(e,t){return Wi(e.ns,t.ns)||mo.comparator(e.key,t.key)},e}(),ll=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ru(cl.Gn)}return e.prototype.checkEmpty=function(e){return xs.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new js(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new cl(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return xs.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return xs.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return xs.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return xs.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return xs.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new cl(t,0),i=new cl(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),xs.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ru(Wi);return t.forEach((function(e){var t=new cl(e,0),i=new cl(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),xs.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;mo.isDocumentKey(i)||(i=i.child(""));var o=new cl(new mo(i),0),a=new ru(Wi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),xs.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;qi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return xs.forEach(t.mutations,(function(i){var o=new cl(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new cl(t,0),r=this.rs.firstAfterOrEqual(n);return xs.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,xs.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),fl=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new eu(mo.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return xs.resolve(n?n.document.clone():Po.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=au();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Po.newInvalidDocument(e))})),xs.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=au(),i=new mo(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||pa(t,c)&&(r=r.insert(c.key,c.clone()))}return xs.resolve(r)},e.prototype.fs=function(e,t){return xs.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new hl(this)},e.prototype.getSize=function(e){return xs.resolve(this.size)},e}(),hl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return x(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),xs.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Nc),dl=function(){function e(e){this.persistence=e,this.ds=new xc((function(e){return Mo(e)}),Fo),this.lastRemoteSnapshotVersion=Yi.min(),this.highestTargetId=0,this.ws=0,this._s=new sl,this.targetCount=0,this.ys=yc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),xs.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return xs.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return xs.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),xs.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),xs.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new yc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,xs.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),xs.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,xs.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xs.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return xs.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return xs.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),xs.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xs.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),xs.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return xs.resolve(n)},e.prototype.containsKey=function(e,t){return xs.resolve(this._s.containsKey(t))},e}(),pl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Oi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new dl(this),this.Ut=new nc,this.Ue=function(e,t){return new fl(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new qs(t),this.Qe=new ul(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ll(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Fi("MemoryPersistence","Starting transaction:",e);var i=new yl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return xs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),yl=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return x(t,e),t}(Ts),vl=function(){function e(e){this.persistence=e,this.As=new sl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw zi()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),xs.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),xs.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),xs.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xs.forEach(this.vs,(function(r){var i=mo.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return xs.or([function(){return xs.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),ml=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function gl(e,t){return"firestore_clients_"+e+"_"+t}function bl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function wl(e,t){return"firestore_targets_"+e+"_"+t}ml.UNAUTHENTICATED=new ml(null),ml.GOOGLE_CREDENTIALS=new ml("google-credentials-uid"),ml.FIRST_PARTY=new ml("first-party-uid");var Sl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ri(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ui("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),El=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ri(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ui("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),_l=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pu(),a=0;i&&a<r.activeTargetIds.length;++a)i=vo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ui("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),kl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ui("SharedClientState","Failed to parse online state: "+t),null)},e}(),Tl=function(){function e(){this.activeTargetIds=pu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Il=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new eu(Wi),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=gl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Tl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return C(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return D(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(gl(this.persistenceKey,r)))&&(o=_l.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.Os;s<c.length;s++)l=c[s],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wl(this.persistenceKey,e));if(n){var r=El.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(wl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Fi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Fi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Fi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Fi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return C(t,void 0,void 0,(function(){var e,t,r,i,o,a;return D(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Oi.o;if(null!=e)try{var n=JSON.parse(e);qi("number"==typeof n),t=n}catch(e){Ui("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Oi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Sl(this.currentUser,e,t,n),i=bl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=bl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=wl(this.persistenceKey,e),i=new El(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return _l.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sl.Vs(new ml(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return El.Vs(r,t)},e.prototype.js=function(e){return kl.Vs(e)},e.prototype.ii=function(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Fi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=pu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),xl=function(){function e(){this.li=new Tl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Tl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Nl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Cl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Fi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Fi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Dl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Al=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Ol=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return x(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Ai;a.listenOnce(xi.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ii.NO_ERROR:var t=a.getResponseJson();Fi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ii.TIMEOUT:Fi("Connection",'RPC "'+e+'" timed out'),o(new Ri(Pi.DEADLINE_EXCEEDED,"Request time out"));break;case Ii.HTTP_ERROR:var n=a.getStatus();if(Fi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pi).indexOf(t)>=0?t:Pi.UNKNOWN}(r.status);o(new Ri(u,r.message))}else o(new Ri(Pi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ri(Pi.UNAVAILABLE,"Connection failed."));break;default:zi()}}finally{Fi("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=ki(),i=Ti(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U())||"object"===typeof navigator&&"ReactNative"===navigator.product||U().indexOf("Electron/")>=0||function(){var e=U();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||U().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Fi("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new Al({Ei:function(e){c?Fi("Connection","Not sending because WebChannel is closed:",e):(s||(Fi("Connection","Opening WebChannel transport."),u.open(),s=!0),Fi("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Di.EventType.OPEN,(function(){c||Fi("Connection","WebChannel transport opened.")})),f(u,Di.EventType.CLOSE,(function(){c||(c=!0,Fi("Connection","WebChannel transport closed"),l.Vi())})),f(u,Di.EventType.ERROR,(function(e){c||(c=!0,ji("Connection","WebChannel transport errored:",e),l.Vi(new Ri(Pi.UNAVAILABLE,"The operation could not be completed")))})),f(u,Di.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];qi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Qa[e];if(void 0!==t)return Ja(t)}(o),s=i.message;void 0===a&&(a=Pi.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Ri(a,s)),u.close()}else Fi("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ni.STAT_EVENT,(function(e){e.stat===Ci.PROXY?Fi("Connection","Detected buffering proxy"):e.stat===Ci.NOPROXY&&Fi("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Fi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Fi("RestConnection","Received: ",e),e}),(function(t){throw ji("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Dl[e];return this.Di+"/v1/"+t+":"+n},e}());function Pl(){return"undefined"!=typeof window?window:null}function Rl(){return"undefined"!=typeof document?document:null}function Ll(e){return new Iu(e,!0)}var Ml=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Fi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Fl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ml(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return C(this,void 0,void 0,(function(){return D(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Pi.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===Pi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Ri(Pi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return C(e,void 0,void 0,(function(){return D(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Fi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Fi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ul=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return x(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(qi(void 0===t||"string"==typeof t),oo.fromBase64String(t||"")):(qi(void 0===t||t instanceof Uint8Array),oo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?Pi.UNKNOWN:Ja(e.code);return new Ri(t,e.message||"")}(u);n=new bu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ru(e,r.document.name),o=Du(r.document.updateTime);var u=new Ao({mapValue:{fields:r.document.fields}}),s=(a=Po.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new mu(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ru(e,r.document),o=r.readTime?Du(r.readTime):Yi.min(),u=Po.newNoDocument(i,o),a=r.removedTargetIds||[],n=new mu([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ru(e,r.document),o=r.removedTargetIds||[],n=new mu([],o,i,null);else{if(!("filter"in t))return zi();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Xa(r),o=l.targetId,n=new gu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Yi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yi.min():t.readTime?Du(t.readTime):Yi.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Fu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Uo(r)?{documents:Bu(e,r)}:{query:Ku(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nu(e,t.resumeToken):t.snapshotVersion.compareTo(Yi.min())>0&&(n.readTime=xu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Fu(this.R),t.removeTarget=e,this.cr(t)},t}(Fl),jl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return x(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(qi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(qi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Du(e.updateTime):Du(t);return n.isEqual(Yi.min())&&(n=Du(t)),new Pa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Du(e.commitTime);return this.listener.Tr(n,t)}return qi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Fu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zu(t.R,e)}))};this.cr(n)},t}(Fl),Vl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return x(t,e),t.prototype.br=function(){if(this.Rr)throw new Ri(Pi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ri(Pi.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ri(Pi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),zl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ui(t),this.Vr=!1):Fi("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),ql=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return C(o,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return Xl(this)?(Fi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return(t=Bi(e)).$r.add(4),[4,Kl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Bl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new zl(n,r)};function Bl(e){return C(this,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:if(!Xl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Kl(e){return C(this,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Hl(e,t){var n=Bi(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Yl(n)?$l(n):df(n).er()&&Ql(n,t))}function Wl(e,t){var n=Bi(e),r=df(n);n.Or.delete(t),r.er()&&Gl(n,t),0===n.Or.size&&(r.er()?r.ir():Xl(n)&&n.Br.set("Unknown"))}function Ql(e,t){e.qr.U(t.targetId),df(e).mr(t)}function Gl(e,t){e.qr.U(t),df(e).yr(t)}function $l(e){e.qr=new Su({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),df(e).start(),e.Br.Sr()}function Yl(e){return Xl(e)&&!df(e).tr()&&e.Or.size>0}function Xl(e){return 0===Bi(e).$r.size}function Zl(e){e.qr=void 0}function Jl(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){return e.Or.forEach((function(t,n){Ql(e,t)})),[2]}))}))}function ef(e,t){return C(this,void 0,void 0,(function(){return D(this,(function(n){return Zl(e),Yl(e)?(e.Br.Nr(t),$l(e)):e.Br.set("Unknown"),[2]}))}))}function tf(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o;return D(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof bu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o;return D(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Fi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,nf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof mu?e.qr.X(t):t instanceof gu?e.qr.rt(t):e.qr.et(t),n.isEqual(Yi.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$c(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(oo.EMPTY_BYTE_STRING,n.snapshotVersion)),Gl(e,t);var r=new zs(n.target,t,1,n.sequenceNumber);Ql(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Fi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,nf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function nf(e,t,n){return C(this,void 0,void 0,(function(){var r=this;return D(this,(function(i){switch(i.label){case 0:if(!Os(t))throw t;return e.$r.add(1),[4,Kl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return $c(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return C(r,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return Fi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Bl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function rf(e,t){return t().catch((function(n){return nf(e,n,t)}))}function of(e){return C(this,void 0,void 0,(function(){var t,n,r,i,o;return D(this,(function(a){switch(a.label){case 0:t=Bi(e),n=pf(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Xl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Zc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=pf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,nf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return af(t)&&uf(t),[2]}}))}))}function af(e){return Xl(e)&&!pf(e).tr()&&e.kr.length>0}function uf(e){pf(e).start()}function sf(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){return pf(e).Ar(),[2]}))}))}function cf(e){return C(this,void 0,void 0,(function(){var t,n,r,i;return D(this,(function(o){for(t=pf(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function lf(e,t,n){return C(this,void 0,void 0,(function(){var r,i;return D(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Vs.from(r,t,n),[4,rf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,of(e)];case 2:return o.sent(),[2]}}))}))}function ff(e,t){return C(this,void 0,void 0,(function(){return D(this,(function(n){switch(n.label){case 0:return t&&pf(e).pr?[4,function(e,t){return C(this,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:return Za(r=t.code)&&r!==Pi.ABORTED?(n=e.kr.shift(),pf(e).sr(),[4,rf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,of(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return af(e)&&uf(e),[2]}}))}))}function hf(e,t){return C(this,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return n=Bi(e),t?(n.$r.delete(2),[4,Bl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Kl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function df(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Bi(e);return r.br(),new Ul(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Jl.bind(null,e),Ri:ef.bind(null,e),_r:tf.bind(null,e)}),e.Mr.push((function(n){return C(t,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Yl(e)?$l(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Zl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function pf(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Bi(e);return r.br(),new jl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sf.bind(null,e),Ri:ff.bind(null,e),Ir:cf.bind(null,e),Tr:lf.bind(null,e)}),e.Mr.push((function(n){return C(t,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,of(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(Fi("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var yf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ri(Pi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function vf(e,t){if(Ui("AsyncQueue",t+": "+e),Os(e))return new Ri(Pi.UNAVAILABLE,t+": "+e);throw e}var mf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||mo.comparator(t.key,n.key)}:function(e,t){return mo.comparator(e.key,t.key)},this.keyedMap=su(),this.sortedSet=new eu(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),gf=function(){function e(){this.Kr=new eu(mo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):zi():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),bf=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,mf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),wf=function(){this.Wr=void 0,this.listeners=[]},Sf=function(){this.queries=new xc((function(e){return ha(e)}),fa),this.onlineState="Unknown",this.Gr=new Set};function Ef(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return D(this,(function(c){switch(c.label){case 0:if(n=Bi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new wf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=vf(u,"Initialization of query '"+da(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&If(n),[2]}}))}))}function _f(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a;return D(this,(function(u){return n=Bi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function kf(e,t){for(var n=Bi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&If(n)}function Tf(e,t,n){var r=Bi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function If(e){e.Gr.forEach((function(e){e.next()}))}var xf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new bf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Nf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Cf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ru(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Vu(this.R,e.document,!1):Po.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return Du(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Df(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Cf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||hu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return C(this,void 0,void 0,(function(){var e,t,n,r,i;return D(this,(function(o){switch(o.label){case 0:return[4,ol(this.localStore,new Cf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,al(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zc(Object.assign({},this.progress),e))]}}))}))}}();function Df(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Af=function(e){this.key=e},Of=function(e){this.key=e},Pf=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=hu(),this.mutatedKeys=hu(),this.lo=ya(e),this.fo=new mf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new gf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=ra(this.query)&&i.size===this.query.limit?i.last():null,c=ia(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=pa(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ra(this.query)||ia(this.query))for(;a.size>this.query.limit;){var l=ra(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zi()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new bf(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=hu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Of(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Af(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=hu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return bf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Rf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Lf=function(e){this.key=e,this.bo=!1},Mf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new xc((function(e){return ha(e)}),fa),this.Vo=new Map,this.So=new Set,this.Do=new eu(mo.comparator),this.Co=new Map,this.No=new sl,this.xo={},this.Fo=new Map,this.ko=yc.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function Ff(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u;return D(this,(function(s){switch(s.label){case 0:return n=hh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Jc(n.localStore,ca(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Uf(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&Hl(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function Uf(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o,a,u,s,c;return D(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o,a;return D(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,tl(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Xf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,tl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Pf(t,i.Bn),a=o._o(i.documents),u=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),Xf(e,n,s.To),c=new Rf(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function jf(e,t){return C(this,void 0,void 0,(function(){var n,r,i;return D(this,(function(o){switch(o.label){case 0:return n=Bi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!fa(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,el(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Wl(n.remoteStore,r.targetId),$f(n,r.targetId)})).catch(wc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return $f(n,r.targetId),[4,el(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Vf(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a;return D(this,(function(u){switch(u.label){case 0:r=dh(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=Bi(e),i=$i.now(),o=t.reduce((function(e,t){return e.add(t.key)}),hu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=ja(c,n.get(c.key));null!=l&&a.push(new Ba(c.key,l,Oo(l.toProto().mapValue),Ra.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new eu(Wi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,eh(r,i.changes)];case 3:return u.sent(),[4,of(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=vf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function zf(e,t){return C(this,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:n=Bi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Yc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(qi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?qi(r.bo):e.removedDocuments.size>0&&(qi(r.bo),r.bo=!1))})),[4,eh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,wc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function qf(e,t,n){var r=Bi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Bi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&If(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Bf(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a,u,s;return D(this,(function(c){switch(c.label){case 0:return(r=Bi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new eu(mo.comparator)).insert(o,Po.newNoDocument(o,Yi.min())),u=hu().add(o),s=new yu(Yi.min(),new Map,new ru(Wi),a,u),[4,zf(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Jf(r),[3,4];case 2:return[4,el(r.localStore,t,!1).then((function(){return $f(r,t,n)})).catch(wc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Kf(e,t){return C(this,void 0,void 0,(function(){var n,r,i;return D(this,(function(o){switch(o.label){case 0:n=Bi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gc(n.localStore,t)];case 2:return i=o.sent(),Gf(n,r,null),Qf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,eh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hf(e,t,n){return C(this,void 0,void 0,(function(){var r,i;return D(this,(function(o){switch(o.label){case 0:r=Bi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Bi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return qi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Gf(r,t,n),Qf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,eh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Wf(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a;return D(this,(function(u){switch(u.label){case 0:Xl((n=Bi(e)).remoteStore)||Fi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=Bi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),a=vf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Qf(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Gf(e,t,n){var r=Bi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function $f(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Yf(e,t)}))}function Yf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Wl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Jf(e))}function Xf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Af?(e.No.addReference(o.key,t),Zf(e,o)):o instanceof Of?(Fi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Yf(e,o.key)):zi()}}function Zf(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Fi("SyncEngine","New document in limbo: "+n),e.So.add(r),Jf(e))}function Jf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new mo(to.fromString(t)),r=e.ko.next();e.Co.set(r,new Lf(n)),e.Do=e.Do.insert(n,r),Hl(e.remoteStore,new zs(ca(na(n.path)),r,2,Oi.o))}}function eh(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a;return D(this,(function(u){switch(u.label){case 0:return r=Bi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.$o(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Bc.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return D(this,(function(f){switch(f.label){case 0:n=Bi(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xs.forEach(t,(function(t){return xs.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return xs.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Os(r=f.sent()))throw r;return Fi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.Fn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function th(e,t){return C(this,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:return(n=Bi(e)).currentUser.isEqual(t)?[3,3]:(Fi("SyncEngine","User change. New user:",t.toKey()),[4,Qc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Ri(Pi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,eh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function nh(e,t){var n=Bi(e),r=n.Co.get(t);if(r&&r.bo)return hu().add(r.key);var i=hu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function rh(e,t){return C(this,void 0,void 0,(function(){var n,r,i;return D(this,(function(o){switch(o.label){case 0:return[4,tl((n=Bi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Xf(n,t.targetId,i.To),i)]}}))}))}function ih(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){return[2,rl((t=Bi(e)).localStore).then((function(e){return eh(t,e)}))]}))}))}function oh(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o;return D(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Bi(e),r=Bi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):xs.resolve(null)}))}))}((i=Bi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,of(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gf(i,t,r||null),Qf(i,t),function(e,t){Bi(Bi(e)._n).Gt(t)}(i.localStore,t)):zi(),a.label=4;case 4:return[4,eh(i,o)];case 5:return a.sent(),[3,7];case 6:Fi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function ah(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return D(this,(function(l){switch(l.label){case 0:return hh(n=Bi(e)),dh(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uh(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,hf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],Hl(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return $f(n,t),el(n.localStore,t,!0)})),Wl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,uh(n,s)];case 5:return l.sent(),function(e){var t=Bi(e);t.Co.forEach((function(e,n){Wl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new eu(mo.comparator)}(n),n.Oo=!1,[4,hf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function uh(e,t,n){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,h,d,p,y;return D(this,(function(v){switch(v.label){case 0:n=Bi(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Jc(n.localStore,ca(c[0]))]:[3,7]):[3,13];case 2:s=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,rh(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nl(n.localStore,u)];case 8:return y=v.sent(),[4,Jc(n.localStore,y)];case 9:return s=v.sent(),[4,Uf(n,sh(y),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(s),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function sh(e){return ta(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ch(e){var t=Bi(e);return Bi(Bi(t.localStore).persistence).fn()}function lh(e,t,n,r){return C(this,void 0,void 0,(function(){var i,o,a;return D(this,(function(u){switch(u.label){case 0:return(i=Bi(e)).Oo?(Fi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rl(i.localStore)];case 3:return o=u.sent(),a=yu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,eh(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,el(i.localStore,t,!0)];case 6:return u.sent(),$f(i,t,r),[3,8];case 7:zi(),u.label=8;case 8:return[2]}}))}))}function fh(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,h;return D(this,(function(d){switch(d.label){case 0:if(!(r=hh(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Fi("SyncEngine","Adding an already active target "+a),[3,5]):[4,nl(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,Jc(r.localStore,u)];case 3:return s=d.sent(),[4,Uf(r,sh(u),s.targetId,!1)];case 4:d.sent(),Hl(r.remoteStore,s),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return D(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,el(r.localStore,e,!1).then((function(){Wl(r.remoteStore,e),$f(r,e)})).catch(wc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function hh(e){var t=Bi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bf.bind(null,t),t.vo._r=kf.bind(null,t.eventManager),t.vo.Mo=Tf.bind(null,t.eventManager),t}function dh(e){var t=Bi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hf.bind(null,t),t}var ph=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return this.R=Ll(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Wc(this.persistence,new Kc,e.initialUser,this.R)},e.prototype.qo=function(e){return new pl(vl.bs,this.R)},e.prototype.Bo=function(e){return new xl},e.prototype.terminate=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),yh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return x(t,e),t.prototype.initialize=function(t){return C(this,void 0,void 0,(function(){return D(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,il(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,dh(this.Ko.syncEngine)];case 4:return n.sent(),[4,of(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Wc(this.persistence,new Kc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new _c(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Vc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uc.withCacheSize(this.cacheSizeBytes):uc.DEFAULT;return new Fc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Pl(),Rl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new xl},t}(ph),vh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return x(t,e),t.prototype.initialize=function(t){return C(this,void 0,void 0,(function(){var n,r=this;return D(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Il?(this.sharedClientState.syncEngine={ui:oh.bind(null,n),ai:lh.bind(null,n),hi:fh.bind(null,n),fn:ch.bind(null,n),ci:ih.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return C(r,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,ah(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Pl();if(!Il.yt(t))throw new Ri(Pi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Il(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(yh),mh=function(){function e(){}return e.prototype.initialize=function(e,t){return C(this,void 0,void 0,(function(){var n=this;return D(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qf(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=th.bind(null,this.syncEngine),[4,hf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Sf},e.prototype.createDatastore=function(e){var t,n=Ll(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ol(t));return function(e,t,n){return new Vl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qf(a.syncEngine,e,0)},o=Cl.yt()?new Cl:new Nl,new ql(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new Mf(e,t,n,r,i,o);return a&&(u.Oo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return t=Bi(e),Fi("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Kl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var gh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),bh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Is,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return C(this,void 0,void 0,(function(){var e,t,n,r;return D(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Nf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return C(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return C(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return C(this,void 0,void 0,(function(){var t,n=this;return D(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ri(Pi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return C(this,void 0,void 0,(function(){var n,r,i,o,a,u;return D(this,(function(s){switch(s.label){case 0:return n=Bi(e),r=Fu(n.R)+"/documents",i={documents:t.map((function(e){return Pu(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){qi(!!t.found),t.found.name,t.found.updateTime;var n=Ru(e,t.found.name),r=Du(t.found.updateTime),i=new Ao({mapValue:{fields:t.found.fields}});return Po.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){qi(!!t.missing),qi(!!t.readTime);var n=Ru(e,t.missing),r=Du(t.readTime);return Po.newNoDocument(n,r)}(e,t):zi()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());qi(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new $a(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return C(this,void 0,void 0,(function(){var e,t=this;return D(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=mo.fromPath(n);t.mutations.push(new Ya(r,t.precondition(r)))})),[4,function(e,t){return C(this,void 0,void 0,(function(){var n,r,i;return D(this,(function(o){switch(o.label){case 0:return n=Bi(e),r=Fu(n.R)+"/documents",i={writes:t.map((function(e){return zu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zi();t=Yi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ri(Pi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ra.updateTime(t):Ra.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yi.min()))throw new Ri(Pi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ra.updateTime(t)}return Ra.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),wh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ml(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return C(e,void 0,void 0,(function(){var e,t,n=this;return D(this,(function(r){return e=new bh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!po(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Za(t)}return!1},e}(),Sh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=ml.UNAUTHENTICATED,this.clientId=Hi.u(),this.credentialListener=function(){},this.receivedInitialUser=new Is,this.credentials.setChangeListener((function(e){Fi("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return C(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ri(Pi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return C(e,void 0,void 0,(function(){var e,n;return D(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=vf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Eh(e,t){return C(this,void 0,void 0,(function(){var n,r,i=this;return D(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Fi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return C(i,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,Qc(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function _h(e,t){return C(this,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,kh(e)];case 1:return n=i.sent(),Fi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return C(this,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:return(n=Bi(e)).asyncQueue.verifyOperationInProgress(),Fi("RemoteStore","RemoteStore received new credentials"),r=Xl(n),n.$r.add(3),[4,Kl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Bl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function kh(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Fi("FirestoreClient","Using default OfflineComponentProvider"),[4,Eh(e,new ph)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Th(e){return C(this,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Fi("FirestoreClient","Using default OnlineComponentProvider"),[4,_h(e,new mh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Ih(e){return kh(e).then((function(e){return e.persistence}))}function xh(e){return kh(e).then((function(e){return e.localStore}))}function Nh(e){return Th(e).then((function(e){return e.remoteStore}))}function Ch(e){return Th(e).then((function(e){return e.syncEngine}))}function Dh(e){return C(this,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:return[4,Th(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Ff.bind(null,t.syncEngine),n.onUnlisten=jf.bind(null,t.syncEngine),n)]}}))}))}function Ah(e,t,n){var r=this;void 0===n&&(n={});var i=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(r,void 0,void 0,(function(){var r;return D(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(o){t.enqueueAndForget((function(){return _f(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Ri(Pi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Ri(Pi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new xf(na(n.path),o,{includeMetadataChanges:!0,so:!0});return Ef(e,a)},[4,Dh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Oh(e,t,n){var r=this;void 0===n&&(n={});var i=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(r,void 0,void 0,(function(){var r;return D(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(n){t.enqueueAndForget((function(){return _f(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Ri(Pi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new xf(n,o,{includeMetadataChanges:!0,so:!0});return Ef(e,a)},[4,Dh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Ph=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Rh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Lh=new Map,Mh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Fh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(ml.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Uh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jh=function(){function e(e){var t=this;this.oc=null,this.currentUser=ml.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Fi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(qi("string"==typeof n.accessToken),new Mh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return qi(null===e||"string"==typeof e),new ml(e)},e}(),Vh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=ml.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),zh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new Vh(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(ml.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function qh(e,t,n){if(!n)throw new Ri(Pi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Bh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Kh(e,t,n,r){if(!0===t&&!0===r)throw new Ri(Pi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Hh(e){if(!mo.isDocumentKey(e))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Wh(e){if(mo.isDocumentKey(e))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Qh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":zi()}function Gh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ri(Pi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qh(e);throw new Ri(Pi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function $h(e,t){if(t<=0)throw new Ri(Pi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Yh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ri(Pi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ri(Pi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Kh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Xh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yh({}),this._settingsFrozen=!1,e instanceof Rh?(this._databaseId=e,this._credentials=new Fh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ri(Pi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(e.options.projectId)}(e),this._credentials=new jh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ri(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ri(Pi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Fh;switch(e.type){case"gapi":var t=e.client;return qi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ri(Pi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Lh.get(this))&&(Fi("ComponentProvider","Removing Datastore"),Lh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Zh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ed(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Jh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ed=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,na(r))||this)._path=r,i.type="collection",i}return x(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Zh(this.firestore,null,new mo(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Jh);function td(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=G(e),qh("collection","path",t),e instanceof Xh)return Wh(n=to.fromString.apply(to,P([t],r))),new ed(e,null,n);if(!(e instanceof Zh||e instanceof ed))throw new Ri(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wh(n=to.fromString.apply(to,P([e.path],r)).child(to.fromString(t))),new ed(e.firestore,null,n)}function nd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=G(e),1===arguments.length&&(t=Hi.u()),qh("doc","path",t),e instanceof Xh)return Hh(n=to.fromString.apply(to,P([t],r))),new Zh(e,null,new mo(n));if(!(e instanceof Zh||e instanceof ed))throw new Ri(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hh(n=e._path.child(to.fromString.apply(to,P([t],r)))),new Zh(e.firestore,e instanceof ed?e.converter:null,new mo(n))}function rd(e,t){return e=G(e),t=G(t),(e instanceof Zh||e instanceof ed)&&(t instanceof Zh||t instanceof ed)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function id(e,t){return e=G(e),t=G(t),e instanceof Jh&&t instanceof Jh&&e.firestore===t.firestore&&fa(e._query,t._query)&&e.converter===t.converter}var od=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Ml(this,"async_queue_retry"),this.Ec=function(){var t=Rl();t&&Fi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Rl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=Rl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return C(this,void 0,void 0,(function(){var e,t=this;return D(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Os(e=n.sent()))throw e;return Fi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=yf.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&zi()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return C(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function ad(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new od,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return x(t,e),t.prototype._terminate=function(){return this._firestoreClient||cd(this),this._firestoreClient.terminate()},t}(Xh);function sd(e){return e._firestoreClient||cd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ph(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Sh(e._credentials,e._queue,r)}function ld(e,t,n){var r=this,i=new Is;return e.asyncQueue.enqueue((function(){return C(r,void 0,void 0,(function(){var r;return D(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Eh(e,n)];case 1:return o.sent(),[4,_h(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Pi.FAILED_PRECONDITION||e.code===Pi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function fd(e){if(e._initialized||e._terminated)throw new Ri(Pi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ro(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),dd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(oo.fromBase64String(t))}catch(t){throw new Ri(Pi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(oo.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),pd=function(e){this._methodName=e},yd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ri(Pi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ri(Pi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Wi(this._lat,e._lat)||Wi(this._long,e._long)},e}(),vd=/^__.*__$/,md=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new qa(e,this.data,t,this.fieldTransforms)},e}(),gd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function bd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zi()}}var wd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return Vd(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(bd(this.Dc)&&vd.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Sd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Ll(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new wd({Dc:e,methodName:t,Lc:n,path:ro.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ed(e){var t=e._freezeSettings(),n=Ll(e._databaseId);return new Sd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _d(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);Md("Data must be an object, but it was:",a,r);var u,s,c=Rd(r,a);if(o.merge)u=new io(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Fd(t,h[f],n);if(!a.contains(d))throw new Ri(Pi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");zd(l,d)||l.push(d)}u=new io(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new md(new Ao(c),u,s)}var kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(pd);function Td(e,t,n){return new wd({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype._toFieldTransform=function(e){return new Oa(e.path,new ka)},t.prototype.isEqual=function(e){return e instanceof t},t}(pd),xd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return x(t,e),t.prototype._toFieldTransform=function(e){var t=Td(this,e,!0),n=this.qc.map((function(e){return Pd(e,t)})),r=new Ta(n);return new Oa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pd),Nd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return x(t,e),t.prototype._toFieldTransform=function(e){var t=Td(this,e,!0),n=this.qc.map((function(e){return Pd(e,t)})),r=new xa(n);return new Oa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pd),Cd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return x(t,e),t.prototype._toFieldTransform=function(e){var t=new Ca(e.R,ba(e.R,this.Uc));return new Oa(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(pd);function Dd(e,t,n,r){var i=e.Bc(1,t,n);Md("Data must be an object, but it was:",i,r);var o=[],a=Ao.empty();Zi(r,(function(e,r){var u=jd(t,e,n);r=G(r);var s=i.kc(u);if(r instanceof kd)o.push(u);else{var c=Pd(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new io(o);return new gd(a,u,i.fieldTransforms)}function Ad(e,t,n,r,i,o){var a=e.Bc(1,t,n),u=[Fd(t,r,n)],s=[i];if(o.length%2!=0)throw new Ri(Pi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Fd(t,o[c])),s.push(o[c+1]);for(var l=[],f=Ao.empty(),h=u.length-1;h>=0;--h)if(!zd(l,u[h])){var d=u[h],p=s[h];p=G(p);var y=a.kc(d);if(p instanceof kd)l.push(d);else{var v=Pd(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new io(l);return new gd(f,m,a.fieldTransforms)}function Od(e,t,n,r){return void 0===r&&(r=!1),Pd(n,e.Bc(r?4:3,t))}function Pd(e,t){if(Ld(e=G(e)))return Md("Unsupported field value:",t,e),Rd(e,t);if(e instanceof pd)return function(e,t){if(!bd(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Pd(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=G(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ba(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$i.fromDate(e);return{timestampValue:xu(t.R,n)}}if(e instanceof $i)return n=new $i(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:xu(t.R,n)};if(e instanceof yd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dd)return{bytesValue:Nu(t.R,e._byteString)};if(e instanceof Zh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Au(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Qh(e))}(e,t)}function Rd(e,t){var n={};return Ji(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(e,(function(e,r){var i=Pd(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ld(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $i||e instanceof yd||e instanceof dd||e instanceof Zh||e instanceof pd)}function Md(e,t,n){if(!Ld(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Qh(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function Fd(e,t,n){if((t=G(t))instanceof hd)return t._internalPath;if("string"==typeof t)return jd(e,t);throw Vd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ud=new RegExp("[~\\*/\\[\\]]");function jd(e,t,n){if(t.search(Ud)>=0)throw Vd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(hd.bind.apply(hd,P([void 0],t.split(".")))))._internalPath}catch(ze){throw Vd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Vd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new Ri(Pi.INVALID_ARGUMENT,(u+=". ")+e+s)}function zd(e,t){return e.some((function(e){return e.isEqual(t)}))}var qd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Zh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(qd);function Kd(e,t){return"string"==typeof t?jd(e,t):t instanceof hd?t._internalPath:t._delegate._internalPath}var Hd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Wd=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return x(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(qd),Qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Wd),Gd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Qd(n._firestore,n._userDataWriter,r.key,r,new Hd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ri(Pi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$d(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function $d(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zi()}}function Yd(e,t){return e instanceof Wd&&t instanceof Wd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Gd&&t instanceof Gd&&e._firestore===t._firestore&&id(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Xd(e){if(ia(e)&&0===e.explicitOrderBy.length)throw new Ri(Pi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zd=function(){};function Jd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var ep=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return x(t,e),t.prototype._apply=function(e){var t=Ed(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){up(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(ap(r,e,f))}u={arrayValue:{values:s}}}else u=ap(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||up(a,o),u=Od(n,"where",a,"in"===o||"not-in"===o);var h=jo.create(i,o,u);return function(e,t){if(t.g()){var n=aa(e);if(null!==n&&!n.isEqual(t.field))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=oa(e);null!==r&&sp(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Jh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Zd),tp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return x(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yo(t,n);return function(e,t){if(null===oa(e)){var n=aa(e);null!==n&&sp(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Jh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ea(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Zd),np=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return x(t,e),t.prototype._apply=function(e){return new Jh(e.firestore,e.converter,la(e._query,this.Gc,this.zc))},t}(Zd),rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return x(t,e),t.prototype._apply=function(e){var t=op(e,this.type,this.Hc,this.Jc);return new Jh(e.firestore,e.converter,function(e,t){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Zd),ip=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return x(t,e),t.prototype._apply=function(e){var t=op(e,this.type,this.Hc,this.Jc);return new Jh(e.firestore,e.converter,function(e,t){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Zd);function op(e,t,n,r){if(n[0]=G(n[0]),n[0]instanceof qd)return function(e,t,n,r,i){if(!r)throw new Ri(Pi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=sa(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(To(t,r.key));else{var c=r.data.field(s.field);if(lo(c))throw new Ri(Pi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Go(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ed(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ri(Pi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ua(e)&&-1!==c.indexOf("/"))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(to.fromString(c));if(!mo.isDocumentKey(l))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new mo(l);u.push(To(t,f))}else{var h=Od(n,r,c);u.push(h)}}return new Go(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function ap(e,t,n){if("string"==typeof(n=G(n))){if(""===n)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ua(t)&&-1!==n.indexOf("/"))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(to.fromString(n));if(!mo.isDocumentKey(r))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return To(e,new mo(r))}if(n instanceof Zh)return To(e,n._key);throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qh(n)+".")}function up(e,t){if(!Array.isArray(e)||0===e.length)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sp(e,t,n){if(!n.isEqual(t))throw new Ri(Pi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var cp=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return so(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zi()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Zi(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new yd(so(e.latitude),so(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=fo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ho(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=uo(e);return new $i(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=to.fromString(e);qi(ns(n));var r=new Rh(n.get(1),n.get(3)),i=new mo(n.popFirst(5));return r.isEqual(t)||Ui("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function lp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return x(t,e),t.prototype.convertBytes=function(e){return new dd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zh(this.firestore,null,t)},t}(cp),hp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ed(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=dp(e,this._firestore),i=lp(r.converter,t,n),o=_d(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ra.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=dp(e,this._firestore);return o="string"==typeof(t=G(t))||t instanceof hd?Ad(this._dataReader,"WriteBatch.update",a._key,t,n,r):Dd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ra.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=dp(e,this._firestore);return this._mutations=this._mutations.concat(new $a(t._key,Ra.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ri(Pi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function dp(e,t){if((e=G(e)).firestore!==t)throw new Ri(Pi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return x(t,e),t.prototype.convertBytes=function(e){return new dd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zh(this.firestore,null,t)},t}(cp);function yp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Gh(e,Zh);var o=Gh(e.firestore,ud),a=Ed(o);return mp(o,[("string"==typeof(t=G(t))||t instanceof hd?Ad(a,"updateDoc",e._key,t,n,r):Dd(a,"updateDoc",e._key,t)).toMutation(e._key,Ra.exists(!0))])}function vp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=G(e);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||ad(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(ad(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Zh)c=Gh(e.firestore,ud),l=na(e._key.path),s={next:function(t){i[u]&&i[u](gp(c,e,t))},error:i[u+1],complete:i[u+2]};else{var d=Gh(e,Jh);c=Gh(d.firestore,ud),l=d._query;var p=new pp(c);s={next:function(e){i[u]&&i[u](new Gd(c,p,d,e))},error:i[u+1],complete:i[u+2]},Xd(e._query)}return function(e,t,n,r){var i=this,o=new gh(r),a=new xf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return C(i,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return t=Ef,[4,Dh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return C(i,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return t=_f,[4,Dh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(sd(c),l,f,s)}function mp(e,t){return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var n;return D(this,(function(i){switch(i.label){case 0:return n=Vf,[4,Ch(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(sd(e),t)}function gp(e,t,n){var r=n.docs.get(t._key),i=new pp(e);return new Wd(e,i,t._key,r,new Hd(n.hasPendingWrites,n.fromCache),t.converter)}var bp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return x(t,e),t.prototype.get=function(t){var n=this,r=dp(t,this._firestore),i=new pp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Wd(n._firestore,i,r._key,e._document,new Hd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ed(e)}return e.prototype.get=function(e){var t=this,n=dp(e,this._firestore),r=new fp(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return zi();var i=e[0];if(i.isFoundDocument())return new qd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qd(t._firestore,r,n._key,null,n.converter);throw zi()}))},e.prototype.set=function(e,t,n){var r=dp(e,this._firestore),i=lp(r.converter,t,n),o=_d(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=dp(e,this._firestore);return o="string"==typeof(t=G(t))||t instanceof hd?Ad(this._dataReader,"Transaction.update",a._key,t,n,r):Dd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=dp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function wp(){if("undefined"==typeof Uint8Array)throw new Ri(Pi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sp(){if("undefined"==typeof atob)throw new Ri(Pi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ep=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Sp(),new e(dd.fromBase64String(t))},e.fromUint8Array=function(t){return wp(),new e(dd.fromUint8Array(t))},e.prototype.toBase64=function(){return Sp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return wp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),_p=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){fd(e=Gh(e,ud));var n=sd(e),r=e._freezeSettings(),i=new mh;return ld(n,i,new yh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){fd(e=Gh(e,ud));var t=sd(e),n=e._freezeSettings(),r=new mh;return ld(t,r,new vh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ri(Pi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Is;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return C(t,void 0,void 0,(function(){var t;return D(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return Cs.yt()?(t=e+"main",[4,Cs.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Vc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),kp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Rh||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Gh(e,Xh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&ji("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=N({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[L.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),L.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ri(Pi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new Uh(new Mh(o,new ml(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return C(t,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:return[4,Ih(e)];case 1:return t=r.sent(),[4,Nh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Bi(e);return t.$r.delete(0),Bl(t)}(n))]}}))}))}))}(sd(Gh(this._delegate,ud)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return C(t,void 0,void 0,(function(){var t,n;return D(this,(function(r){switch(r.label){case 0:return[4,Ih(e)];case 1:return t=r.sent(),[4,Nh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return C(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return(t=Bi(e)).$r.add(0),[4,Kl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(sd(Gh(this._delegate,ud)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Kh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(t,void 0,void 0,(function(){var t;return D(this,(function(r){switch(r.label){case 0:return t=Wf,[4,Ch(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(sd(Gh(this._delegate,ud)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new gh(t);return e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return t=function(e,t){Bi(e).Gr.add(t),t.next()},[4,Dh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return t=function(e,t){Bi(e).Gr.delete(t)},[4,Dh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(sd(e=Gh(e,ud)),ad(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new Ri(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Up(this,td(this._delegate,e))}catch(e){throw Dp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Cp(this,nd(this._delegate,e))}catch(e){throw Dp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Lp(this,function(e,t){if(e=Gh(e,Xh),qh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jh(e,null,function(e){return new ea(to.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Dp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var n;return D(this,(function(i){switch(i.label){case 0:return[4,function(e){return Th(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new wh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(sd(e),(function(n){return t(new bp(e,n))}))}(this._delegate,(function(n){return e(new Ip(t,n))}))},e.prototype.batch=function(){var e=this;return sd(this._delegate),new xp(new hp(this._delegate,(function(t){return mp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Ri(Pi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ri(Pi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Tp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return x(t,e),t.prototype.convertBytes=function(e){return new Ep(new dd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Cp.Zc(t,this.firestore,null)},t}(cp);var Ip=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.prototype.get=function(e){var t=this,n=jp(e);return this._delegate.get(n).then((function(e){return new Pp(t._firestore,new Wd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=jp(e);return n?(Bh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,P([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e}(),xp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=jp(e);return n?(Bh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,P([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Np=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Qd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Tp(t),n),i.set(n,o)),o},e}();Np.eu=new WeakMap;var Cp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new Ri(Pi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Zh(n._delegate,r,new mo(t)))},e.Zc=function(t,n,r){return new e(n,new Zh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Up(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Up(this.firestore,td(this._delegate,e))}catch(e){throw Dp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=G(e))instanceof Zh&&rd(this._delegate,e)},e.prototype.set=function(e,t){t=Bh("DocumentReference.set",t);try{return function(e,t,n){e=Gh(e,Zh);var r=Gh(e.firestore,ud),i=lp(e.converter,t,n);return mp(r,[_d(Ed(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ra.none())])}(this._delegate,e,t)}catch(e){throw Dp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?yp(this._delegate,e):yp.apply(void 0,P([this._delegate,e,t],n))}catch(e){throw Dp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return mp(Gh((e=this._delegate).firestore,ud),[new $a(e._key,Ra.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ap(t),i=Op(t,(function(t){return new Pp(e.firestore,new Wd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Gh(e,Zh);var t=Gh(e.firestore,ud),n=sd(t),r=new pp(t);return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var n;return D(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return C(this,void 0,void 0,(function(){var r,i;return D(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Bi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ri(Pi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,xh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Wd(t,r,e._key,n,new Hd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gh(e,Zh);var t=Gh(e.firestore,ud);return Ah(sd(t),e._key,{source:"server"}).then((function(n){return gp(t,e,n)}))}(this._delegate):function(e){e=Gh(e,Zh);var t=Gh(e.firestore,ud);return Ah(sd(t),e._key).then((function(n){return gp(t,e,n)}))}(this._delegate)).then((function(e){return new Pp(t.firestore,new Wd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Np.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Dp(e,t,n){return e.message=e.message.replace(t,n),e}function Ap(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!ad(r))return r}return{}}function Op(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ad(e[0])?e[0]:ad(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Pp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Cp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Yd(this._delegate,e._delegate)},e}(),Rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Pp),Lp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Jd(this._delegate,function(e,t,n){var r=t,i=Kd("where",e);return new ep(i,r,n)}(t,n,r)))}catch(t){throw Dp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Jd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Kd("orderBy",e);return new tp(r,n)}(t,n)))}catch(t){throw Dp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Jd(this._delegate,function(e){return $h("limit",e),new np("limit",e,"F")}(t)))}catch(t){throw Dp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Jd(this._delegate,function(e){return $h("limitToLast",e),new np("limitToLast",e,"L")}(t)))}catch(t){throw Dp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Dp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Dp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ip("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Dp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ip("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Dp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return id(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Gh(e,Jh);var t=Gh(e.firestore,ud),n=sd(t),r=new pp(t);return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return C(n,void 0,void 0,(function(){var n;return D(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return C(this,void 0,void 0,(function(){var r,i,o,a,u;return D(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,tl(e,t,!0)];case 1:return u=s.sent(),r=new Pf(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=vf(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,xh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Gd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Gh(e,Jh);var t=Gh(e.firestore,ud),n=sd(t),r=new pp(t);return Oh(n,e._query,{source:"server"}).then((function(n){return new Gd(t,r,e,n)}))}(this._delegate):function(e){e=Gh(e,Jh);var t=Gh(e.firestore,ud),n=sd(t),r=new pp(t);return Xd(e._query),Oh(n,e._query).then((function(n){return new Gd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Fp(t.firestore,new Gd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ap(t),i=Op(t,(function(t){return new Fp(e.firestore,new Gd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Np.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Mp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Fp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Lp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Rp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Mp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Rp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Yd(this._delegate,e._delegate)},e}(),Up=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return x(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Cp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Cp(this.firestore,void 0===e?nd(this._delegate):nd(this._delegate,e))}catch(e){throw Dp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Gh(e.firestore,ud),r=nd(e),i=lp(e.converter,t);return mp(n,[_d(Ed(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ra.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Cp(t.firestore,e)}))},t.prototype.isEqual=function(e){return rd(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Np.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(Lp);function jp(e){return Gh(e,Zh)}var Vp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(hd.bind.apply(hd,P([void 0],e)))}return e.documentId=function(){return new e(ro.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=G(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),zp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Id("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Cd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var qp,Bp={Firestore:kp,GeoPoint:yd,Timestamp:$i,Blob:Ep,Transaction:Ip,WriteBatch:xp,DocumentReference:Cp,DocumentSnapshot:Pp,Query:Lp,QueryDocumentSnapshot:Rp,QuerySnapshot:Fp,CollectionReference:Up,FieldPath:Vp,FieldValue:zp,setLogLevel:function(e){var t;t=e,Li.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new $("firestore",(function(e){return function(e,t){return new kp(e,new ud(e,t),new _p)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Bp)))})(qp=ke),qp.registerVersion("@firebase/firestore","2.3.0");ke.initializeApp({apiKey:"AIzaSyAdl0WfQPbnPPgy77ff6TXq2hfqB31sXN0",authDomain:"wendideye.firebaseapp.com",projectId:"wendideye",storageBucket:"wendideye.appspot.com",messagingSenderId:"450992917439",appId:"1:450992917439:web:d51474e7cf03f39e8d6f0a"});var Kp=ke.firestore();var Hp=n.p+"static/media/delete.3270f2c93c8c138fa6cc69fbd18f985e.svg";function Wp(e){return(0,S.jsx)("div",{className:"product-container",children:e.items.map((function(e){return(0,S.jsxs)("div",{className:"item-container",children:[(0,S.jsx)("h2",{className:"purchase",children:"Purchased"}),(0,S.jsx)("h2",{className:"renew",children:"Renew/Return"}),(0,S.jsx)("h2",{className:"cost",children:"Cost"}),(0,S.jsx)("h2",{className:"warranty",children:"Warranty"}),(0,S.jsx)("h2",{className:"notes",children:"Notes"}),(0,S.jsx)(w.Link,{to:"/products/".concat(e.id),children:(0,S.jsx)("h2",{className:"seemore",children:"See More..."})}),(0,S.jsx)("p",{className:"product",children:e.product}),(0,S.jsx)("p",{className:"pdate",children:e.purchase}),(0,S.jsx)("p",{className:"rdate",children:e.renew}),(0,S.jsx)("p",{className:"item-cost",children:e.cost}),(0,S.jsx)("p",{className:"item-warranty",children:e.warranty}),(0,S.jsx)("p",{className:"item-notes",children:e.notes}),(0,S.jsx)("img",{className:"trash",src:Hp,onClick:function(){return function(e){console.log(Kp.collection("products").doc(e).delete())}(e.id)}})]},e.id)}))})}function Qp(){var t=b((0,e.useState)(null),2),n=t[0],r=t[1],i=b((0,e.useState)(!1),2),o=i[0],a=i[1],u=b((0,e.useState)(!1),2),s=u[0],c=u[1];return(0,e.useEffect)((function(){a(!0);var e=Kp.collection("products").onSnapshot((function(e){if(e.empty)c("No items found"),a(!1),r(null);else{var t=[];e.docs.forEach((function(e){t.push(T({id:e.id},e.data()))})),r(t),a(!1)}}),(function(e){c(e.message),a(!1)}));return function(){return e()}}),[]),(0,S.jsxs)("div",{className:"home",children:[s&&(0,S.jsx)("p",{className:"error",children:s}),o&&(0,S.jsx)("p",{className:"pending",children:"Loading items..."}),n&&(0,S.jsx)(Wp,{items:n})]})}function Gp(){var t=(0,r.useLocation)().search,n=new URLSearchParams(t).get("q"),i=b((0,e.useState)(null),2),o=i[0],a=i[1],u=b((0,e.useState)(!1),2),s=u[0],c=u[1],l=b((0,e.useState)(!1),2),f=l[0],h=l[1];return(0,e.useEffect)((function(){c(!0);var e=Kp.collection("products").onSnapshot((function(e){if(e.empty)h("No items found"),c(!1),a(null);else{var t=[];e.docs.forEach((function(e){t.push(T({id:e.id},e.data()))}));var r=t.filter((function(e){return e.product.toLowerCase()===n.toLowerCase()}));a(r),c(!1)}}),(function(e){h(e.message),c(!1)}));return function(){return e()}}),[n]),(0,S.jsxs)("div",{children:[s&&(0,S.jsx)("p",{className:"pending",children:"Loading items..."}),(0,S.jsxs)("h2",{className:"item-title",children:['Items including "',n,'"']}),f&&(0,S.jsx)("p",{className:"error",children:f}),o&&(0,S.jsx)(Wp,{items:o})]})}function $p(e){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(e)}function Yp(){Yp=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==t&&n.call(v,i)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,o,a,u){var s=c(e[i],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==$p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(m),u(m,a,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Xp(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zp(){var t=(0,r.useHistory)(),n=b((0,e.useState)(""),2),i=n[0],o=n[1],a=b((0,e.useState)(""),2),u=a[0],s=a[1],c=b((0,e.useState)(""),2),l=c[0],f=c[1],h=b((0,e.useState)(""),2),d=h[0],p=h[1],y=b((0,e.useState)(""),2),v=y[0],m=y[1],g=b((0,e.useState)(""),2),w=g[0],E=g[1],_=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Xp(o,r,i,a,u,"next",e)}function u(e){Xp(o,r,i,a,u,"throw",e)}a(void 0)}))}}(Yp().mark((function e(n){var r;return Yp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={product:i,purchase:u,renew:l,cost:d,warranty:v,notes:w},e.prev=2,e.next=5,Kp.collection("products").add(r);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsx)("div",{className:"create",children:(0,S.jsxs)("form",{onSubmit:function(e){return _(e)},className:"form",children:[(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"productName",children:"Product Name"}),(0,S.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},value:i,required:!0})]}),(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"c-pdate",children:"Purchase Date"}),(0,S.jsx)("input",{type:"date",value:u,onChange:function(e){return s(e.target.value)},required:!0})]}),(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"c-rdate",children:"Return/Renew Date"}),(0,S.jsx)("input",{type:"date",value:l,onChange:function(e){return f(e.target.value)},required:!0})]}),(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"c-cost",children:"Cost"}),(0,S.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},required:!0})]}),(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"c-warranty",children:"Warranty"}),(0,S.jsx)("input",{type:"text",value:v,onChange:function(e){return m(e.target.value)}})]}),(0,S.jsxs)("label",{children:[(0,S.jsx)("span",{className:"c-notes",children:"Notes"}),(0,S.jsx)("input",{className:"c-note",type:"text",value:w,onChange:function(e){return E(e.target.value)}})]}),(0,S.jsx)("button",{className:"form-submit",children:"Submit"})]})})}function Jp(){var t=(0,r.useParams)().id,n=b((0,e.useState)(null),2),i=n[0],o=n[1],a=b((0,e.useState)(!1),2),u=a[0],s=a[1],c=b((0,e.useState)(!1),2),l=c[0],f=c[1];return(0,e.useEffect)((function(){s(!0);var e=Kp.collection("products").doc(t).onSnapshot((function(e){e.exists?(s(!1),o(e.data())):(s(!1),f("Could Not Find Product"))}));return function(){return e()}}),[]),(0,S.jsxs)("div",{className:"home",children:[l&&(0,S.jsx)("p",{className:"error",children:l}),u&&(0,S.jsx)("p",{className:"pending",children:"Loading Product..."}),i&&(0,S.jsxs)("div",{className:"single-container",children:[(0,S.jsx)("p",{className:"s-product",children:i.item}),(0,S.jsx)("h2",{className:"s-purchase",children:"Purchased"}),(0,S.jsx)("h2",{className:"s-renew",children:"Renew/Return"}),(0,S.jsx)("h2",{className:"s-cost",children:"Cost"}),(0,S.jsx)("h2",{className:"s-warranty",children:"Warranty"}),(0,S.jsx)("h2",{className:"s-notes",children:"Notes"}),(0,S.jsx)("p",{className:"s-pdate",children:i.purchase}),(0,S.jsx)("p",{className:"s-rdate",children:i.renew}),(0,S.jsx)("p",{className:"s-item-cost",children:i.cost}),(0,S.jsx)("p",{className:"s-item-warranty",children:i.warranty}),(0,S.jsx)("p",{className:"s-item-notes",children:i.notes})]})]})}function ey(){return(0,S.jsx)("div",{className:"App",children:(0,S.jsxs)(c,{children:[(0,S.jsx)(E,{}),(0,S.jsxs)(r.Switch,{children:[(0,S.jsx)(r.Route,{exact:!0,path:"/",children:(0,S.jsx)(Qp,{})}),(0,S.jsx)(r.Route,{exact:!0,path:"/create",children:(0,S.jsx)(Zp,{})}),(0,S.jsx)(r.Route,{path:"/search",children:(0,S.jsx)(Gp,{})}),(0,S.jsx)(r.Route,{path:"/products/:id",children:(0,S.jsx)(Jp,{})})]})]})})}t.createRoot(document.getElementById("root")).render((0,S.jsx)(ey,{}))}()}();
//# sourceMappingURL=main.a4c219d6.js.map